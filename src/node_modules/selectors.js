import R from 'ramda'

export const getProductById = (state, id) => R.prop(id, state.products)

export const getProducts = state => {
	const products = R.map(id => getProductById(state, id), state.productsPage.ids)
	return products
}

export const getRenderedProductsLength = state => R.length(state.productsPage.ids)

export const getTotalBasketCount = state => R.length(state.basket)

export const getTotalBasketPrice = state => {
	const totalPrice = R.compose(
		R.sum,
		R.pluck('price'),
		R.map(id => getProductById(state, id))
	)(state.basket)

	return totalPrice
}