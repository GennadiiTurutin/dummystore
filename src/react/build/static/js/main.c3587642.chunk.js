(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(e,t,a){e.exports=a(494)},227:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),c=a.n(o),i=(a(227),a(24)),s=a(25),l=a(27),u=a(26),d=a(28),p=a(33),m=a(69),h=a(16),f=a(136),E=a(192),b=a.n(E),g=a(193),v=a(194),y=a(18),C=a(195),O=a(11),w=(a(234),a(504)),k=a(505),S=a(196),j=a(197),x=a(495),T=a(218),P=a(496),N=a(84),_=a(506),R=a(497),U=a(498),L=a(220),A=a(513),D=a(512),I=a(499),B=a(500),F=a(507),H=a(501),W=function(e,t){return S.a(t,e.products)},G=function(e,t){var a=x.a("slug",function(e){return j.a(["match","params","slug"],e)}(t));return Object.values(T.a(a,e.products))[0]},Y=function(e){return j.a(["match","params","id"],e)},M=function(e){return e.authorization},q=function(e,t){var a=Y(t),n=void 0===a?void 0:"http://127.0.0.1:8000/categories/"+a+"/";return _.a(R.a(U.a(e.productsPage.search),T.a(function(t){return P.a(e.productsPage.search.toLowerCase(),S.a("title",t).toLowerCase())})),R.a(U.a(n),T.a(function(e){return N.a(Number(a),S.a("category",e))})),L.a(function(t){return W(e,t)}))(e.productsPage.ids)},z=function(e,t){return L.a(function(t){return W(e,t.id)})(e.authorization.products)},V=function(e){return A.a(e.basket)},K=function(e){return _.a(D.a,I.a("price"),L.a(function(t){return W(e,t)}))(e.basket)},J=function(e){return B.a(e.categories)},$=function(e){var t=F.a(e.basket);return _.a(L.a(function(t){return H.a("count",(a=t.id,_.a(A.a,T.a(function(e){return N.a(a,e)}))(e.basket)),t);var a}),L.a(function(t){return W(e,t)}))(t)},X=a(35),Q=a(58),Z=a.n(Q),ee=a(59),te=a.n(ee),ae=a(42),ne=a.n(ae),re=a(44),oe=a.n(re),ce=a(34),ie=a(60),se=a.n(ie),le=a(82),ue=a.n(le),de=a(8),pe=a.n(de),me=a(29),he=a(511),fe=a(43),Ee=a.n(fe),be=function(){var e=Object(me.a)(pe.a.mark(function e(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){e(Ee.a.get("https://reactshop.io/api/products/"))}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(me.a)(pe.a.mark(function e(t,a){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){e(he.a(x.a("slug",t),a))}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(me.a)(pe.a.mark(function e(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){e(Ee.a.get("https://reactshop.io/api/categories/"))}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(me.a)(pe.a.mark(function e(t,a){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=JSON.stringify({username:t,password:a});e(Ee.a.post("https://reactshop.io/auth/login",n,{headers:{"Content-Type":"application/json"}}))}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(me.a)(pe.a.mark(function e(t,a,n){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var r=JSON.stringify({username:t,email:a,password:n});e(Ee.a.post("https://reactshop.io/auth/register/",r,{headers:{"Content-Type":"application/json"}}))}));case 1:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(me.a)(pe.a.mark(function e(t,a){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=t[Object.keys(t)[a]];e(Ee.a.put("https://reactshop.io/api/products/".concat(n.id,"/"),n,{headers:{"Content-Type":"application/json"}}))}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),we=function(){var e=Object(me.a)(pe.a.mark(function e(t){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var a=t.id,n=t.id,r=t.products.map(function(e){return e.id}),o=JSON.stringify({id:a,user:n,products:r});e(Ee.a.put("https://reactshop.io/api/profiles/".concat(a,"/"),o,{headers:{"Content-Type":"application/json"}}))}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(me.a)(pe.a.mark(function e(t,a){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var n=JSON.stringify({token:t,amount:a});e(Ee.a.post("https://reactshop.io/payment/",n,{headers:{"Content-Type":"application/json"}}))}));case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),Se=function(){var e=Object(me.a)(pe.a.mark(function e(t,a,n,r,o){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){var c={headers:{"Content-Type":"application/json",Authorization:"Token "+o}},i=JSON.stringify({id:t,username:a,email:n,password:r});e(Ee.a.patch("https://reactshop.io/auth/users/",i,c))}));case 1:case"end":return e.stop()}},e)}));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),je=function(){return function(){var e=Object(me.a)(pe.a.mark(function e(t){var a;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_PRODUCTS_START"}),e.prev=1,e.next=4,be();case 4:a=e.sent,t({type:"FETCH_PRODUCTS_SUCCESS",payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_PRODUCTS_FAILURE",payload:e.t0,error:!0}),O.b.error("Server error. Try again later");case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},xe=function(e){return function(){var t=Object(me.a)(pe.a.mark(function t(a){var n;return pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"FETCH_PRODUCT_BY_SLUG_START"}),t.prev=1,t.next=4,ge(e);case 4:n=t.sent,a({type:"FETCH_PRODUCT_BY_SLUG_SUCCESS",payload:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"FETCH_PRODUCT_BY_SLUG_FAILURE",payload:t.t0,error:!0}),O.b.error("Server error. Try again later");case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},Te=function(e){return function(t){t({type:"DELETE_PRODUCT",payload:e}),O.b.info("The item has been deleted from the basket")}},Pe=function(e){return function(t){t({type:"ADD_PRODUCT_TO_BASKET",payload:e}),O.b.info("The item has been added to the basket")}},Ne=function(e){var t=e().authorization.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization="Token ".concat(t)),a},_e=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,fullWidth:!1,maxWidth:"sm",email:"",password:"",showPassword:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleClose=function(){a.setState({open:!1})},a.onSubmit=function(e){a.props.login(a.state.username,a.state.password),a.handleClose()},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{"aria-label":"Login",color:"primary",onClick:this.handleClickOpen,className:e.button},r.a.createElement("h5",null,"Login")),r.a.createElement(Z.a,{fullWidth:this.state.fullWidth,maxWidth:this.state.maxWidth,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"dialog"},r.a.createElement(te.a,{id:"dialog"},"Login"),r.a.createElement("div",{className:"container"},r.a.createElement(ce.ValidatorForm,{className:e.container,ref:"form",onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement(ce.TextValidator,{id:"username",label:"Username",className:e.textField,placeholder:"Preferred username",margin:"normal",value:this.state.username||"",onChange:this.handleUsernameChange,variant:"outlined",validators:["required"],errorMessages:["this field is required"],InputLabelProps:{shrink:!0}}),r.a.createElement(ce.TextValidator,{id:"password",label:"Password",className:e.textField,margin:"normal",variant:"outlined",type:"password",validators:["required"],errorMessages:["this field is required"],value:this.state.password||"",onChange:this.handlePasswordChange,autoComplete:"current-password",InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"container text-center"},r.a.createElement("button",{className:e.button2},r.a.createElement(ue.a,{className:e.iconHover,"aria-label":"Done"})),r.a.createElement(se.a,{className:e.iconHover,onClick:this.handleClose,"aria-label":"Close"}))))))}}]),t}(r.a.Component),Re={login:function(e,t){return function(){var a=Object(me.a)(pe.a.mark(function a(n){var r;return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LOGIN_USER_START"}),a.prev=1,a.next=4,ye(e,t);case 4:r=a.sent,n({type:"LOGIN_USER_SUCCESS",payload:r.data}),O.b.success("You've been successfully logged in"),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),n({type:"LOGIN_USER_FAILURE",payload:a.t0,error:!0}),O.b.error("Authorization error");case 13:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()}},Ue=Object(h.compose)(Object(X.withStyles)(function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:200},button:{margin:e.spacing.unit,color:"#B1B7BD"},button2:{padding:0,border:"none",background:"none"},container:{display:"flex",flexWrap:"wrap",flexDirection:"column",margin:"auto",width:300},dense:{marginTop:16},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:oe.a[800]}},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}}),Object(y.b)(function(e){return{authenticated:e.authorization.authenticated}},Re))(_e),Le=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,fullWidth:!1,maxWidth:"sm",username:"",email:"",password:"",repeatPassword:"",showPassword:!1},a.handleClickOpen=function(){a.setState({open:!0})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleConfirmationChange=function(e){a.setState({repeatPassword:e.target.value})},a.handleClose=function(){a.setState({open:!1})},a.onSubmit=function(e){a.props.register(a.state.username,a.state.email,a.state.password),a.handleClose()},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;ce.ValidatorForm.addValidationRule("isPasswordMatch",function(t){return t===e.state.password})}},{key:"render",value:function(){var e=this.props.classes;return this.props.isAuthenticated?r.a.createElement(m.a,{to:"/"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{"aria-label":"Login",color:"primary",onClick:this.handleClickOpen,className:e.button},r.a.createElement("h5",null,"Register")),r.a.createElement(Z.a,{fullWidth:this.state.fullWidth,maxWidth:this.state.maxWidth,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"dialog"},r.a.createElement(te.a,{id:"dialog"},"Register"),r.a.createElement("div",{className:"container"},r.a.createElement(ce.ValidatorForm,{className:e.container,ref:"form",onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement(ce.TextValidator,{id:"username",label:"Username",className:e.textField,placeholder:"Preferred username",margin:"normal",value:this.state.username,onChange:this.handleUsernameChange,variant:"outlined",validators:["required"],errorMessages:["this field is required"],InputLabelProps:{shrink:!0}}),r.a.createElement(ce.TextValidator,{id:"email",label:"Email",className:e.textField,margin:"normal",value:this.state.email,onChange:this.handleEmailChange,variant:"outlined",validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"],InputLabelProps:{shrink:!0}}),r.a.createElement(ce.TextValidator,{id:"password",label:"Password",className:e.textField,margin:"normal",variant:"outlined",type:"password",validators:["required"],errorMessages:["this field is required"],value:this.state.password,onChange:this.handlePasswordChange,autoComplete:"current-password",helperText:"Your password might include anything",InputLabelProps:{shrink:!0}}),r.a.createElement(ce.TextValidator,{id:"confirmation",label:"Confirmation",className:e.textField,placeholder:"Confirm your password",margin:"normal",variant:"outlined",value:this.state.repeatPassword,onChange:this.handleConfirmationChange,type:"password",autoComplete:"current-password",validators:["isPasswordMatch","required"],errorMessages:["password mismatch","this field is required"],InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"containet text-center"},r.a.createElement("button",{className:e.button2},r.a.createElement(ue.a,{className:e.iconHover,"aria-label":"Done"})),r.a.createElement(se.a,{className:e.iconHover,onClick:this.handleClose,"aria-label":"Close"}))))))}}]),t}(r.a.Component),Ae={register:function(e,t,a){return function(){var n=Object(me.a)(pe.a.mark(function n(r){var o;return pe.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"REGISTER_USER_START"}),n.prev=1,n.next=4,Ce(e,t,a);case 4:o=n.sent,r({type:"REGISTER_USER_SUCCESS",payload:o.data}),O.b.success("You've been successfully registered"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),r({type:"REGISTER_USER_FAILURE",payload:n.t0,error:!0}),O.b.error("Registration error");case 13:case"end":return n.stop()}},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}},De=Object(h.compose)(Object(X.withStyles)(function(e){return{form:{display:"flex",flexDirection:"column",margin:"auto",width:200},button:{margin:e.spacing.unit,color:"#B1B7BD"},button2:{padding:0,border:"none",background:"none"},container:{display:"flex",flexWrap:"wrap",flexDirection:"column",margin:"auto",width:300},dense:{marginTop:16},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:oe.a[800]}},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}}),Object(y.b)(function(e){return{isAuthenticated:e.authorization.isAuthenticated}},Ae))(Le),Ie=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,maxWidth:"sm",id:a.props.user.id,username:a.props.user.username,email:a.props.user.email,password:"",showPassword:!1},a.onLogout=function(){a.props.logout()},a.handleClickOpen=function(){a.setState({open:!0})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleClose=function(){a.setState({open:!1})},a.onSubmit=function(e){a.props.changeCredentials(a.state.id,a.state.username,a.state.email,a.state.password,a.props.user.token),a.handleClose()},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{"aria-label":"Login",color:"primary",onClick:this.handleClickOpen,className:e.button},r.a.createElement("h5",null,this.props.user.username)),r.a.createElement(Z.a,{maxWidth:this.state.maxWidth,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"dialog"},r.a.createElement(te.a,{id:"dialog"},"Profile"),r.a.createElement("div",{className:"container"},r.a.createElement(ce.ValidatorForm,{className:e.container,ref:"form",onSubmit:this.onSubmit,autoComplete:"off"},r.a.createElement(ce.TextValidator,{id:"username",label:"Username",className:e.textField,placeholder:"Preferred username",margin:"normal",value:this.state.username||"",onChange:this.handleUsernameChange,variant:"outlined",validators:["required"],errorMessages:["this field is required"],InputLabelProps:{shrink:!0}}),r.a.createElement(ce.TextValidator,{id:"email",label:"Email",className:e.textField,margin:"normal",value:this.state.email||"",onChange:this.handleEmailChange,variant:"outlined",validators:["required","isEmail"],errorMessages:["this field is required","email is not valid"],InputLabelProps:{shrink:!0}}),r.a.createElement(ce.TextValidator,{id:"password",label:"Password",className:e.textField,margin:"normal",variant:"outlined",type:"password",validators:["required"],errorMessages:["this field is required"],value:this.state.password||"",onChange:this.handlePasswordChange,autoComplete:"current-password",helperText:"Your password might include anything",InputLabelProps:{shrink:!0}}),r.a.createElement("div",{className:"containet text-center"},r.a.createElement("button",{className:e.button2},r.a.createElement(ue.a,{className:e.iconHover,"aria-label":"Done"})),r.a.createElement(se.a,{className:e.iconHover,onClick:this.handleClose,"aria-label":"Close"}))))))}}]),t}(r.a.Component),Be={changeCredentials:function(e,t,a,n,r){return function(){var o=Object(me.a)(pe.a.mark(function o(c){var i;return pe.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return c({type:"CHANGE_CREDENTIALS_START"}),o.prev=1,o.next=4,Se(e,t,a,n,r);case 4:i=o.sent,c({type:"CHANGE_CREDENTIALS_SUCCESS",payload:i.data}),O.b.success("You've successfully changed your credentials"),o.next=13;break;case 9:o.prev=9,o.t0=o.catch(1),c({type:"CHANGE_CREDENTIALS_FAILURE",payload:o.t0,error:!0}),O.b.error("Credentials error");case 13:case"end":return o.stop()}},o,null,[[1,9]])}));return function(e){return o.apply(this,arguments)}}()}},Fe=Object(h.compose)(Object(X.withStyles)(function(e){return{form:{isplay:"flex",flexDirection:"column",margin:"auto",width:200},button:{margin:e.spacing.unit,color:"#B1B7BD"},button2:{padding:0,border:"none",background:"none"},container:{display:"flex",flexWrap:"wrap",flexDirection:"column",margin:"auto",width:300},dense:{marginTop:16},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:oe.a[800]}},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit}}}),Object(y.b)(function(e){return{authenticated:e.authorization.authenticated,user:M(e)}},Be))(Ie),He=a(63),We=a(514),Ge=a(502),Ye=a(219),Me=a(503),qe=a(204),ze=a.n(qe),Ve=a(205),Ke=a.n(Ve),Je=a(130),$e=a.n(Je),Xe=a(203),Qe=a.n(Xe),Ze=a(83),et=a.n(Ze),tt=a(206),at=a.n(tt),nt=a(202),rt=a.n(nt),ot="".concat("pk_live_sHnv3BsXfVLukU76Pqcy46ux00RcigceA7"),ct=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onToken=function(e,t){var n=a.props.user;a.props.products.map(function(e){return n.products.push({id:e.id})}),a.props.handleClose(),a.props.payment(e.id,a.props.totalPrice),a.props.checkout(n)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(rt.a,{billingAddress:!0,description:"Payment",locale:"auto",name:"Praktikum.com",stripeKey:ot,token:this.onToken,zipCode:!0,className:e.iconHover})}}]),t}(r.a.Component),it={checkout:function(e){return function(){var t=Object(me.a)(pe.a.mark(function t(a){return pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"CHECKOUT_START"}),t.prev=1,t.next=4,we(e);case 4:a({type:"CHECKOUT_SUCCESS"}),O.b.success("Your purchase is successful"),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"CHECKOUT_FAILURE",payload:t.t0,error:!0}),O.b.error("Purchase error");case 12:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},payment:function(e,t){return function(){var a=Object(me.a)(pe.a.mark(function a(n){return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"PAYMENT_START"}),a.prev=1,a.next=4,ke(e,t);case 4:n({type:"PAYMENT_SUCCESS"}),O.b.success("Your card has been charged"),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"PAYMENT_FAILURE",payload:a.t0,error:!0}),O.b.error("Payment error");case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()}},st=Object(h.compose)(Object(X.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"flex-end"},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:oe.a[800]}}}}),Object(y.b)(function(e,t){return{user:M(e),products:$(e),totalPrice:K(e)}},it))(ct),lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,fullWidth:!0,maxWidth:"sm"},a.handleClickOpen=function(){We.a(a.props.products)?O.b.info("Your shopping cart is empty!"):a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleDelete=function(){a.props.cleanBasket()},a.handleClose=a.handleClose.bind(Object(He.a)(Object(He.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.user,n=We.a(this.props.products),o=!1===a.authenticated?"disabled":"inherit";return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{"aria-label":"Cart",color:"primary",className:"text-grey",disabled:!a.authenticated,onClick:this.handleClickOpen},r.a.createElement(Qe.a,{badgeContent:this.props.totalBasketCount,color:"secondary",classes:{badge:t.badge}},r.a.createElement(et.a,{color:o}))),r.a.createElement(Z.a,{fullWidth:this.state.fullWidth,maxWidth:this.state.maxWidth,open:this.state.open,onClose:this.handleClose,"aria-labelledby":"dialog"},r.a.createElement(te.a,{id:"dialog"},"Shopping cart"),r.a.createElement(ze.a,null,r.a.createElement("div",{className:"view-container"},r.a.createElement("div",{className:"container my-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"container my-4 text-center"},n&&r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Your shopping cart is empty")),Ge.a(n)&&r.a.createElement("div",null,r.a.createElement("div",{className:"container py-4"},r.a.createElement(Me.a,{striped:!0,bordered:!0,hover:!0,size:"sm",variant:"light"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Amount"),r.a.createElement("th",null,"Delete"))),this.props.products.map(function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",null,a+1),r.a.createElement("td",null,t.title),r.a.createElement("td",null,"$",t.price),r.a.createElement("td",null,t.count),r.a.createElement("td",null,r.a.createElement(Ye.a,{onClick:function(){return e.props.deleteProduct(t.id)}}))))}))),r.a.createElement("div",{className:"container text-right"},r.a.createElement("h4",null,r.a.createElement("b",null,"Total: "),"$",this.props.totalPrice))))))))),r.a.createElement(Ke.a,null,!n&&r.a.createElement("div",null,r.a.createElement(st,{handleClose:this.handleClose}),r.a.createElement(at.a,{className:t.iconHover,onClick:this.handleDelete,"aria-label":"Delete"})),r.a.createElement(se.a,{className:t.iconHover,onClick:this.handleClose,"aria-label":"Close"}))))}}]),t}(r.a.Component),ut={deleteProduct:Te,cleanBasket:function(){return function(e){e({type:"CLEAN_BASKET"}),O.b.info("Basket has been cleaned")}}},dt=Object(h.compose)(Object(X.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"flex-end"},iconHover:{margin:2*e.spacing.unit,"&:hover":{color:oe.a[800]}}}}),Object(y.b)(function(e){return{products:$(e),totalPrice:K(e),user:M(e),totalBasketCount:V(e)}},ut))(lt),pt=a(133),mt=a.n(pt),ht=a(134),ft=a.n(ht),Et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onLogout=function(){a.props.logout()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement("div",{className:"containter"},r.a.createElement(Fe,null),r.a.createElement(ne.a,{"aria-label":"Logout",className:"text-grey",color:"primary",onClick:function(){e.onLogout()}},r.a.createElement("h5",null," Logout")))),n=r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement("div",{className:"containter"},r.a.createElement(Ue,null),r.a.createElement(De,null))),o=r.a.createElement(mt.a,{icon:r.a.createElement(ft.a,null),label:"My Classroom",clickable:!0,className:t.chip,color:"default"}),c=r.a.createElement(mt.a,{icon:r.a.createElement(ft.a,null),label:"Not authorized",clickable:!0,className:t.chip,color:"secondary"});return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{expand:"lg"},r.a.createElement(k.a.Brand,{className:"text-grey"},r.a.createElement(p.b,{to:"/",style:{textDecoration:"none",color:"#B1B7BD"}},r.a.createElement("h1",null,"reactshop.io"))),this.props.user.authenticated?a:n),r.a.createElement(k.a,{expand:"sm"},r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement(p.b,{to:"/classroom",style:{textDecoration:"none",color:"white"}},this.props.user.authenticated?o:c)),r.a.createElement(dt,null)))}}]),t}(n.Component),bt={logout:function(){return function(e,t){e({type:"LOGOUT_USER_START"}),e({type:"CLEAN_BASKET"});try{Ee.a.post("https://reactshop.io/auth/logout",null,Ne(t)),e({type:"LOGOUT_USER_SUCCESS"}),O.b.success("You've been successfully logged out")}catch(a){e({type:"LOGOUT_USER_FAILURE",payload:a,error:!0}),O.b.error("Sorry, try again later!")}}}},gt=Object(h.compose)(Object(X.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap"},chip:{margin:e.spacing.unit}}}),Object(y.b)(function(e){return{totalBasketCount:V(e),user:M(e)}},bt))(Et),vt=function(e){var t=e.children;return r.a.createElement("div",{className:"container"},r.a.createElement(O.a,{autoClose:2e3}),r.a.createElement(gt,null),t)},yt=a(109),Ct=a.n(yt),Ot=a(91),wt=a.n(Ot),kt=a(64),St=a.n(kt),jt=a(212),xt=a.n(jt),Tt=a(135),Pt=a(67),Nt=a(88),_t=a.n(Nt),Rt=a(213),Ut=a.n(Rt),Lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(He.a)(Object(He.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.searchProduct(e.target.value)}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:e.search},r.a.createElement("div",{className:e.searchIcon},r.a.createElement(Ut.a,null)),r.a.createElement(_t.a,{placeholder:"Search\u2026",onChange:this.handleChange,classes:{root:e.inputRoot,input:e.inputInput}})))}}]),t}(n.Component),At={searchProduct:function(e){return function(t){t({type:"SEARCH_PRODUCT",payload:e})}}},Dt=Object(h.compose)(Object(X.withStyles)(function(e){return{root:{width:"100%"},search:Object(Tt.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Pt.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Pt.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(Tt.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200})}}),Object(y.b)(null,At))(Lt),It=Object(h.compose)(m.f,Object(y.b)(function(e,t){return{categories:J(e),activeCategoryId:Y(t)}},null))(function(e){var t=e.categories,a=e.activeCategoryId;return r.a.createElement("div",{className:"text-left"},r.a.createElement("div",{className:"list-group my-4"},r.a.createElement(ne.a,{"aria-label":"Category",color:"primary",component:function(e){return r.a.createElement(p.b,Object.assign({to:"/"},e))}},r.a.createElement("div",{className:"container text-left text-grey"},r.a.createElement("h5",null,r.a.createElement(St.a,{checked:void 0===a}),"All categories"))),t.map(function(e,t){return function(e,t){var n=N.a(e.id,Number(a)),o=!0===n?"/":"/categories/".concat(e.id);return r.a.createElement(ne.a,{"aria-label":"Category",color:"primary",component:function(e){return r.a.createElement(p.b,Object.assign({to:o},e))},key:t},r.a.createElement("div",{className:"container text-left text-grey"},r.a.createElement("h5",null,r.a.createElement(St.a,{checked:n}),e.title)))}(e,t)})))}),Bt=function(e){return r.a.createElement("div",null,r.a.createElement(It,null),r.a.createElement(Dt,null))},Ft=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBasket=function(e){return!!he.a(x.a("id",e.id))(a.props.basket)},a.handleProducts=function(e){return void 0!==he.a(x.a("id",e.id))(a.props.user.products)},a.handleClick=function(e){a.handleBasket(e)?a.props.deleteProduct(e.id):a.props.addProductToBasket(e.id)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleNewComment",value:function(e){O.b.info("Your comment has been published")}},{key:"renderProduct",value:function(){var e=this,t=this.props.product,a=this.props.user,n=this.handleProducts(t);return r.a.createElement("div",{className:"container my-4 text-grey"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",null,t.title),r.a.createElement("p",null,t.description),r.a.createElement("h2",null,"$",t.price)),r.a.createElement("div",{className:"container text-right"},r.a.createElement(wt.a,{disabled:!a.authenticated||n,checked:n||this.handleBasket(t),control:r.a.createElement(St.a,{icon:r.a.createElement(et.a,null),checkedIcon:r.a.createElement(Ct.a,null),onClick:function(){e.handleClick(t)}})})),r.a.createElement(xt.a,{shortname:"praktikum-1",identifier:String(this.props.product.id),title:this.props.product.title,url:"http://localhost:3000/products/",onNewComment:this.handleNewComment}))}},{key:"render",value:function(){var e=this.props.product;void 0===e&&O.b.info("Product doesn't exist!");var t=r.a.createElement("div",{className:"col-sm-12 col-lg-12 col-md-12 my-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Bt,null)),r.a.createElement("div",{className:"col-lg-8"},e&&this.renderProduct())));return r.a.createElement(r.a.Fragment,null,void 0===this.props.product?r.a.createElement(m.a,{to:"/"}):t)}}]),t}(n.Component),Ht={fetchProductBySlug:xe,addProductToBasket:Pe,deleteProduct:Te},Wt=Object(y.b)(function(e,t){return{product:G(e,t),user:M(e),basket:$(e)}},Ht)(Ft),Gt=a(515),Yt=a(215),Mt=a.n(Yt),qt=a(214),zt=a.n(qt),Vt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleBasket=function(e){return!!he.a(x.a("id",e.id))(a.props.basket)},a.handleProducts=function(e){return void 0!==he.a(x.a("id",e.id))(a.props.user.products)},a.handleClick=function(e){a.handleBasket(e)?a.props.deleteProduct(e.id):a.props.addProductToBasket(e.id)},a.handleLike=function(e,t,n){n?e[Object.keys(e)[t]].likes=e[Object.keys(e)[t]].likes.filter(function(e){return e!==a.props.user.id}):e[Object.keys(e)[t]].likes.push(a.props.user.id),a.props.like(e,t)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProducts(),this.props.fetchCategories()}},{key:"renderProduct",value:function(e,t){var a=this,n="".concat(Gt.a(100,e.description),"..."),o=this.props.user,c=this.handleProducts(e),i=A.a(e.likes),s=P.a(o.id,e.likes);return r.a.createElement("div",{className:"col-lg-12 my-4",key:t},r.a.createElement("div",{className:"text-left text-grey"},r.a.createElement("h2",{className:"text-grey"},r.a.createElement(p.b,{to:"/products/".concat(e.slug),style:{textDecoration:"none",color:"#B1B7BD"}},e.title)),r.a.createElement("p",null,n),r.a.createElement("h4",null,"Price: $",e.price),r.a.createElement("div",{className:"container text-right"},r.a.createElement(wt.a,{disabled:!o.authenticated||c,checked:c||this.handleBasket(e),control:r.a.createElement(St.a,{icon:r.a.createElement(et.a,null),checkedIcon:r.a.createElement(Ct.a,null),onClick:function(){a.handleClick(e)}})}),r.a.createElement(wt.a,{disabled:!o.authenticated,label:"".concat(i," likes"),checked:s,control:r.a.createElement(St.a,{icon:r.a.createElement(zt.a,null),checkedIcon:r.a.createElement(Mt.a,null),onClick:function(){a.handleLike(a.props.products,t,s)}})}))))}},{key:"render",value:function(){var e=this,t=this.props.products,a=We.a(t);return r.a.createElement("div",{className:"col-sm-12 col-lg-12 col-md-12 my-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"},r.a.createElement(Bt,null)),r.a.createElement("div",{className:"col-lg-8"},a&&r.a.createElement("div",{className:"text-center text-grey"},r.a.createElement("h2",null,"Nothing found")),t.map(function(t,a){return e.renderProduct(t,a)}))))}}]),t}(n.Component),Kt={fetchProducts:je,addProductToBasket:Pe,fetchCategories:function(){return function(){var e=Object(me.a)(pe.a.mark(function e(t){var a;return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_CATEGORIES_START"}),e.prev=1,e.next=4,ve();case 4:a=e.sent,t({type:"FETCH_CATEGORIES_SUCCESS",payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"FETCH_CATEGORIES_FAILURE",payload:e.t0,error:!0}),O.b.error("Server error. Try again later");case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},deleteProduct:Te,like:function(e,t){return function(){var a=Object(me.a)(pe.a.mark(function a(n){return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"LIKE_PRODUCT_START"}),a.prev=1,a.next=4,Oe(e,t);case 4:e=a.sent,n({type:"LIKE_PRODUCT_SUCCESS",payload:e}),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(1),n({type:"LIKE_PRODUCT_FAILURE",payload:a.t0,error:!0}),O.b.error("Server error. Try again later");case 12:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()}},Jt=Object(y.b)(function(e,t){return{products:q(e,t),user:M(e),basket:$(e)}},Kt)(Vt),$t=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"renderProduct",value:function(e,t){var a="".concat(Gt.a(100,e.description),"...");return r.a.createElement("div",{className:"col-lg-12 my-4",key:t},r.a.createElement("div",{className:"text-left text-grey"},r.a.createElement("h2",{className:"text-grey"},r.a.createElement(p.b,{to:"/material/".concat(e.slug,"/"),style:{textDecoration:"none",color:"#B1B7BD"}},e.title)),r.a.createElement("p",null,a),r.a.createElement("h4",null,"Price: $",e.price)))}},{key:"render",value:function(){var e=this,t=this.props.purchases,a=We.a(t);return!1===this.props.user.authenticated&&(this.props.history.replace("/"),O.b.info("Please get authorized")),r.a.createElement("div",{className:"col-sm-12 col-lg-12 col-md-12 my-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8"},a&&r.a.createElement("div",{className:"text-center text-grey"},r.a.createElement("h2",null,"Your classroom is empty. You need to buy learning material")),t.map(function(t,a){return e.renderProduct(t,a)}))))}}]),t}(n.Component),Xt={fetchProducts:je},Qt=Object(y.b)(function(e,t){return{user:M(e),purchases:z(e)}},Xt)($t),Zt=a(216),ea=a.n(Zt),ta=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderProduct",value:function(){var e=this.props.product;return r.a.createElement("div",{className:"container my-4 text-grey"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement(ea.a,{source:e.content,escapeHtml:!1})))}},{key:"render",value:function(){var e=this.props.product,t=void 0===e;return t&&O.b.info("Material doesn't exist!"),!1===this.props.user.authenticated&&(this.props.history.replace("/"),O.b.info("Please get authorized")),r.a.createElement("div",{className:"col-sm-12 col-lg-12 col-md-12 my-5"},e&&this.renderProduct(),t&&r.a.createElement(m.a,{to:"/classroom"}))}}]),t}(n.Component),aa={fetchProductBySlug:xe},na=Object(y.b)(function(e,t){return{product:G(e,t),user:M(e)}},aa)(ta),ra=a(217),oa=a(509),ca=a(510),ia={},sa={ids:[],slugs:[],search:""},la={slug:null},ua=a(516),da=a(508),pa=a(517),ma=[],ha={},fa={id:"",username:"",email:"",token:"",authenticated:!1,products:""},Ea=Object(h.combineReducers)({routing:ra.routerReducer,products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PRODUCTS_SUCCESS":var r=oa.a(S.a("id"),n);return ca.a(e,r);case"LIKE_PRODUCT_SUCCESS":return ca.a(e,r);case"FETCH_PRODUCT_BY_ID_SUCCESS":return H.a(n.id,n,e);default:return e}},productsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PRODUCTS_SUCCESS":return ca.a(e,{ids:I.a("id",n)});case"SEARCH_PRODUCT":return ca.a(e,{search:n});default:return e}},productPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_PRODUCT_BY_SLUG_SUCCESS":return ca.a(e,{slug:S.a("slug",n)});default:return e}},basket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"ADD_PRODUCT_TO_BASKET":return ua.a(n,e);case"DELETE_PRODUCT":return da.a(pa.a(n),e);case"CLEAN_BASKET":case"CHECKOUT_SUCCESS":return[];default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CATEGORIES_SUCCESS":var r=oa.a(S.a("id"),n);return ca.a(e,r);default:return e}},authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN_USER_SUCCESS":case"REGISTER_USER_SUCCESS":case"CHANGE_CREDENTIALS_SUCCESS":return ca.a(e,{id:S.a("id",n),username:S.a("username",n),email:S.a("email",n),products:S.a("products",n),token:S.a("token",n),authenticated:S.a("authenticated",n)});case"LOGOUT_USER_SUCCESS":return fa;default:return e}}}),ba=(a(493),{key:"root",storage:b.a}),ga=Object(f.a)(ba,Ea),va=Object(h.createStore)(ga,Object(g.composeWithDevTools)(Object(h.applyMiddleware)(v.a))),ya=Object(f.b)(va);ya.purge();var Ca=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a,{store:va},r.a.createElement(C.a,{loading:null,persistor:ya},r.a.createElement(p.a,null,r.a.createElement(vt,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:Jt}),r.a.createElement(m.b,{exact:!0,path:"/categories/:id",component:Jt}),r.a.createElement(m.b,{exact:!0,path:"/products/:slug",component:Wt}),r.a.createElement(m.b,{exact:!0,path:"/classroom",component:Qt}),r.a.createElement(m.b,{exact:!0,path:"/material/:slug",component:na}),r.a.createElement(m.b,{path:"*",render:function(){return O.b.info("Path doesn't exist!"),r.a.createElement(m.a,{to:"/"})}}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ca,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[222,1,2]]]);
//# sourceMappingURL=main.c3587642.chunk.js.map