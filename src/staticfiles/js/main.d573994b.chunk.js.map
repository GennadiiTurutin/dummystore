{"version":3,"sources":["selectors.js","api/index.js","actions/index.js","actionTypes.js","components/dialog_login/index.js","components/dialog_register/index.js","containers/profile/index.js","containers/checkout/index.js","containers/basket/index.js","components/navbar/index.js","containers/layout/index.js","components/search/index.js","components/categories/index.js","components/sidebar/index.js","containers/product/index.js","containers/products/index.js","containers/classroom/index.js","containers/material/index.js","reducers/products.js","reducers/productsPage.js","reducers/productPage.js","reducers/basket.js","reducers/categories.js","reducers/authorization.js","reducers/index.js","App.js","serviceWorker.js","index.js"],"names":["getProductById","state","id","R","products","getProductBySlug","ownProps","hasActiveSlug","getActiveSlug","Object","values","getActiveCategoryId","getActiveUser","authorization","getProducts","activeCategoryId","activeCategoryUrl","undefined","productsPage","search","item","toLowerCase","Number","ids","getPurchases","getTotalBasketCount","basket","getTotalBasketPrice","getCategories","categories","getBasketProductsWithCount","uniqueIds","product","basketId","fetchProducts","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","Promise","resolve","axios","get","stop","apply","this","arguments","fetchProductBySlug","_ref3","_callee3","slug","_context3","reject","_x3","_x4","fetchCategories","_ref4","_callee4","_context4","login","_ref6","_callee6","username","password","_context6","body","JSON","stringify","post","headers","Content-Type","_x6","_x7","register","_ref7","_callee7","email","_context7","_x8","_x9","_x10","like","_ref8","_callee8","index","_context8","keys","put","concat","_x11","_x12","checkout","_ref9","_callee9","profile","_context9","user","map","x","_x13","payment","_ref10","_callee10","token","amount","_context10","_x14","_x15","changeCredentials","_ref11","_callee11","_context11","config","Authorization","patch","_x16","_x17","_x18","_x19","_x20","dispatch","type","fetchProductsApi","sent","payload","data","t0","error","toast","_x","fetchProductBySlugApi","deleteProduct","info","addProductToBasket","tokenConfig","getState","LoginDialog","open","fullWidth","maxWidth","showPassword","handleClickOpen","_this","setState","handleUsernameChange","e","target","value","handlePasswordChange","handleClose","onSubmit","props","handleClickShowPassword","classes","react_default","createElement","Fragment","Button_default","aria-label","color","onClick","className","button","Dialog_default","onClose","aria-labelledby","DialogTitle_default","lib","container","ref","autoComplete","label","textField","placeholder","margin","onChange","variant","validators","errorMessages","InputLabelProps","shrink","button2","Done_default","iconHover","Close_default","React","Component","mapDispatchToProps","loginUserApi","success","compose","withStyles","theme","form","display","flexDirection","width","spacing","unit","padding","border","background","flexWrap","dense","marginTop","&:hover","red","marginLeft","marginRight","connect","authenticated","RegisterDialog","repeatPassword","handleEmailChange","handleConfirmationChange","_this2","ValidatorForm","addValidationRule","isAuthenticated","react_router","to","helperText","registerUserApi","Profile","onLogout","logout","changeCredentialsApi","isplay","stripeKey","process","Checkout","onToken","addresses","push","totalPrice","main_default","billingAddress","description","locale","name","zipCode","purchase","checkoutApi","paymentApi","root","justifyContent","alignItems","Basket","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleDelete","cleanBasket","bind","assertThisInitialized","isBasketEmpty","basketColor","disabled","Badge_default","badgeContent","totalBasketCount","ShoppingCart_default","style","fontSize","marginBottom","DialogContent_default","Table","striped","bordered","hover","size","key","title","price","count","fa","DialogActions_default","containers_checkout","Delete_default","Navigation","authLinks","containers_profile","react_router_dom","textDecoration","Chip_default","icon","Face_default","clickable","chip","guestLinks","dialog_login","dialog_register","backgroundColor","Navbar","collapseOnSelect","expand","Brand","alt","src","height","Toggle","aria-controls","Collapse","Nav","err","Layout","children","react_toastify","autoClose","navbar","Search","handleChange","event","searchProduct","searchIcon","Search_default","InputBase_default","inputRoot","input","inputInput","text","defineProperty","position","borderRadius","shape","fade","palette","common","white","breakpoints","up","pointerEvents","paddingTop","paddingRight","paddingBottom","paddingLeft","transition","transitions","create","withRouter","component","assign","Checkbox_default","checked","&$checked","category","categoryActive","link","renderCategory","Sidebar","components_categories","Product","handleBasket","handleProducts","handleClick","comment","productBought","FormControlLabel_default","control","checkedIcon","Check_default","build_main_default","shortname","identifier","String","url","onNewComment","handleNewComment","sidebar","renderProduct","Products","handleLike","liked","likes","filter","shortDescription","FavoriteBorder_default","Favorite_default","_this3","isEmpty","_ref2","_callee2","_context2","fetchCategoriesApi","_x2","likeApi","Classroom","purchases","history","replace","Material","react_markdown_default","source","content","escapeHtml","noMaterial","initialState","slugs","combineReducers","routing","routerReducer","length","newValues","productPage","persistConfig","storage","persistedReducer","persistReducer","reducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","persistor","persistStore","App","react_redux_es","integration_react","loading","layout","exact","path","render","Boolean","window","location","hostname","match","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d573994b.chunk.js","sourcesContent":["import * as R from 'ramda';\n\nexport const getProductById = (state, id) => R.prop(id, state.products)\n\nexport const getActiveSlug = ownProps => R.path(['match', 'params', 'slug'], ownProps)\n\nexport const getProductBySlug = (state, ownProps) => {\n\tconst hasActiveSlug = R.propEq('slug', getActiveSlug(ownProps));\n\tconst product = Object.values(R.filter(hasActiveSlug, state.products))[0];\n\treturn product\n}\n\nexport const getActiveCategoryId = ownProps => R.path(['match', 'params', 'id'], ownProps)\n\nexport const getActiveUser = (state) => {\n    const activeUser = state.authorization\n\treturn activeUser\n}\n\nexport const getProducts = (state, ownProps) => {\n\tconst activeCategoryId = getActiveCategoryId(ownProps)\n\n\tconst activeCategoryUrl = (activeCategoryId === undefined) ? undefined : \"http://127.0.0.1:8000/categories/\" + activeCategoryId + \"/\";\n\n\tconst applySearch = item => R.contains(\n\t\tstate.productsPage.search.toLowerCase(),\n\t\t(R.prop('title', item)).toLowerCase()\n\t)\n    \n\tconst applyCategory = item => R.equals(\n\t\tNumber(activeCategoryId),\n\t\tR.prop('category', item)\n\t)\n\t\n\tconst products = R.compose(\n\t\tR.when(R.always(state.productsPage.search), R.filter(applySearch)),\n\t\tR.when(R.always(activeCategoryUrl), R.filter(applyCategory)),\n\t\tR.map(id => getProductById(state, id))\n\t\t)(state.productsPage.ids)\n\treturn products\n\n}\n\nexport const getPurchases = (state, ownProps) => {\n\tconst purchases = R.map(\n\t\tid => getProductById(state, id.id)\n\t\t)(state.authorization.products)\n\treturn purchases\n}\n\nexport const getTotalBasketCount = state => R.length(state.basket)\n\nexport const getTotalBasketPrice = state => {\n\tconst totalPrice = R.compose(\n\t\tR.sum,\n\t\tR.pluck('price'),\n\t\tR.map(id => getProductById(state, id))\n\t    )(state.basket)\n\treturn totalPrice\n}\n\nexport const getCategories = state => R.values(state.categories)\n\nexport const getBasketProductsWithCount = state => {\n\tconst uniqueIds = R.uniq(state.basket)\n\tconst productCount = id => R.compose(\n\t\tR.length,\n\t\tR.filter(basketId => R.equals(id, basketId))\n\t    )(state.basket)\n\tconst productWithCount = product => R.assoc('count', productCount(product.id), product)\n\tconst products = R.compose(\n\t\tR.map(productWithCount),\n\t\tR.map(id => getProductById(state, id))\n\t    )(uniqueIds)\n\treturn products\n}\n","import * as R from 'ramda';\nimport axios from 'axios';\n\nexport const fetchProducts = async () => {\n\treturn new Promise(resolve => {\n\t\tconst response = axios.get(\"https://reactshop.io/api/products/\")\n\t\tresolve(response)\n\t})\n};\n\nexport const fetchProductById = async (id, products) => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst product = R.find(R.propEq('id', id), products)\n\t\tresolve(product)\t\n\t})\n}\n\nexport const fetchProductBySlug = async (slug, products)  => {\n  return new Promise((resolve, reject) => {\n    const product = R.find(R.propEq('slug', slug), products)\n    resolve(product)  \n  })\n}\n\n//export const fetchProductsByUser = async username => {\n  //return new Promise((resolve, reject) => {\n    //const response = axios.get(\"http://127.0.0.1:8000/api/classroom/\", username, '/')\n    //resolve(response)  \n  //})\n//}\n\nexport const fetchCategories = async () => {\n\treturn new Promise(resolve => {\n\t\tconst response = axios.get(\"https://reactshop.io/api/categories/\")\n\t\tresolve(response)\n\t})\n};\n\n\nexport const fetchProfileById = async id => {\n\treturn new Promise(resolve => {\n\t\tconst response = axios.get(\"https://reactshop.io/api/profiles/\", id, '/')\n\t\tresolve(response)\n\t})\n};\n\nexport const login = async ( username, password ) => {\n  return new Promise(resolve => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify({ username, password });\n    const response = axios.post(\"https://reactshop.io/auth/login\", body, config)\n    resolve(response)\n  })\n};\n\nexport const register = async ( username, email, password ) => {\n  return new Promise(resolve => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify({ username, email, password });\n    const response = axios.post(\"https://reactshop.io/auth/register/\", body, config)\n    resolve(response)\n  })\n};\n\nexport const like = async ( products, index ) => {\n  return new Promise(resolve => {\n    const product = products[Object.keys(products)[index]]\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const response = axios.put(`https://reactshop.io/api/products/${product.id}/`, product, config)\n    resolve(response)\n  })\n};\n\nexport const checkout = async ( profile ) => {\n  return new Promise(resolve => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const id = profile.id\n    const user = profile.id \n    const products = profile.products.map(x => x.id);\n    const body = JSON.stringify({id, user, products});\n    const response = axios.put(`https://reactshop.io/api/profiles/${id}/`, body, config)\n    resolve(response)\n  })\n};\n\nexport const payment = async ( token, amount ) => {\n  return new Promise(resolve => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = JSON.stringify({token, amount});\n    const response = axios.post(\"https://reactshop.io/payment/\", body, config)\n    resolve(response)\n  })\n}\n\n\nexport const changeCredentials = async ( id, username, email, password, token ) => {\n  return new Promise(resolve => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Token \" + token,\n      }\n    };\n    const body = JSON.stringify({ id, username, email, password });\n    const response = axios.patch(`https://reactshop.io/auth/users/`, body, config)\n    resolve(response)\n  })\n};","import {\n  FETCH_PRODUCTS_START,\n  FETCH_PRODUCTS_SUCCESS,\n  FETCH_PRODUCTS_FAILURE,\n\n  FETCH_PRODUCT_BY_ID_START,\n  FETCH_PRODUCT_BY_ID_SUCCESS,\n  FETCH_PRODUCT_BY_ID_FAILURE,\n\n  FETCH_PRODUCT_BY_SLUG_START,\n  FETCH_PRODUCT_BY_SLUG_SUCCESS,\n  FETCH_PRODUCT_BY_SLUG_FAILURE,\n\n  FETCH_CATEGORIES_START,\n  FETCH_CATEGORIES_SUCCESS,\n  FETCH_CATEGORIES_FAILURE,\n\n  FETCH_USER_BY_ID_START,\n  FETCH_USER_BY_ID_SUCCESS,\n  FETCH_USER_BY_ID_FAILURE,\n\n  LOGIN_USER_START,\n  LOGIN_USER_SUCCESS,\n  LOGIN_USER_FAILURE,\n\n  LOGOUT_USER_START,\n  LOGOUT_USER_SUCCESS,\n  LOGOUT_USER_FAILURE,\n\n  REGISTER_USER_START,\n  REGISTER_USER_SUCCESS,\n  REGISTER_USER_FAILURE,\n\n  LIKE_PRODUCT_START,\n  LIKE_PRODUCT_SUCCESS,\n  LIKE_PRODUCT_FAILURE,\n\n  CHECKOUT_START,\n  CHECKOUT_SUCCESS,\n  CHECKOUT_FAILURE,\n\n  PAYMENT_START,\n  PAYMENT_SUCCESS,\n  PAYMENT_FAILURE,\n\n  CHANGE_CREDENTIALS_START,\n  CHANGE_CREDENTIALS_SUCCESS,\n  CHANGE_CREDENTIALS_FAILURE,\n\n  ADD_PRODUCT_TO_BASKET,\n  DELETE_PRODUCT,\n  CLEAN_BASKET,\n  SEARCH_PRODUCT\n} from '../actionTypes'\nimport { toast } from \"react-toastify\";\nimport {\n  fetchProducts as fetchProductsApi,\n  fetchProductById as fetchProductByIdApi,\n  fetchProductBySlug as fetchProductBySlugApi,\n  fetchProfileById as fetchProfileByIdApi,\n  fetchCategories as fetchCategoriesApi,\n  login as loginUserApi,\n  register as registerUserApi,\n  like as likeApi,\n  checkout as checkoutApi,\n  payment as paymentApi,\n  changeCredentials as changeCredentialsApi\n} from '../api'\n\nimport axios from \"axios\";\n\nexport const fetchProducts = () => async dispatch => {\n  dispatch({type: FETCH_PRODUCTS_START})\n  try {\n    const products = await fetchProductsApi()\n    dispatch({\n      type: FETCH_PRODUCTS_SUCCESS,\n      payload: products.data\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_PRODUCTS_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Server error. Try again later\");\n  }\n}\n\nexport const fetchCategories = () => async dispatch => {\n  dispatch({type: FETCH_CATEGORIES_START})\n  try { \n    const categories =  await fetchCategoriesApi()\n    dispatch({\n        type: FETCH_CATEGORIES_SUCCESS,\n        payload: categories.data\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_CATEGORIES_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Server error. Try again later\");\n  }\n}\n\nexport const fetchProductById = id => async dispatch => {\n  dispatch({type: FETCH_PRODUCT_BY_ID_START})\n  try {\n    const product = await fetchProductByIdApi(id)\n    dispatch({\n      type: FETCH_PRODUCT_BY_ID_SUCCESS,\n      payload: product\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_PRODUCT_BY_ID_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Server error. Try again later\");\n  }\n}\n\nexport const fetchProductBySlug = slug => async dispatch => {\n  dispatch({type: FETCH_PRODUCT_BY_SLUG_START})\n  try {\n    const product = await fetchProductBySlugApi(slug)\n    dispatch({\n      type: FETCH_PRODUCT_BY_SLUG_SUCCESS,\n      payload: product\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_PRODUCT_BY_SLUG_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Server error. Try again later\");\n  }\n}\n\nexport const fetchProfileById = id => async dispatch => {\n  dispatch({type: FETCH_USER_BY_ID_START})\n  try {\n    const user = await fetchProfileByIdApi(id)\n    dispatch({\n      type: FETCH_USER_BY_ID_SUCCESS,\n      payload: user\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_USER_BY_ID_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Server error. Check your connection\");\n  }\n}\n\nexport const deleteProduct = id => dispatch => {\n  dispatch({\n    type: DELETE_PRODUCT,\n    payload: id\n  })\n  toast.info(\"The item has been deleted from the basket\");\n}\n\nexport const addProductToBasket = id => dispatch => {\n  dispatch({\n    type: ADD_PRODUCT_TO_BASKET,\n    payload: id\n  })\n  toast.info(\"The item has been added to the basket\");\n}\n\nexport const searchProduct = text => dispatch => {\n  dispatch({\n    type: SEARCH_PRODUCT,\n    payload: text\n  })\n}\n\nexport const cleanBasket = () => dispatch => {\n  dispatch({\n    type: CLEAN_BASKET\n  })\n  toast.info(\"Basket has been cleaned\");\n}\n\nexport const login = ( username, password ) => async dispatch => {\n  dispatch({type: LOGIN_USER_START})\n  try {\n    const user = await loginUserApi(username, password)\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: user.data\n    })\n    toast.success(\"You've been successfully logged in\");\n  } catch (err) {\n    dispatch({\n      type: LOGIN_USER_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Authorization error\");\n  }\n}\n\nexport const register = ( username, email, password ) => async dispatch => {\n  dispatch({type: REGISTER_USER_START})\n  try {\n    const user = await registerUserApi(username, email, password)\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: user.data\n    })\n    toast.success(\"You've been successfully registered\");\n  } catch (err) {\n    dispatch({\n      type: REGISTER_USER_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Registration error\");\n  }\n}\n\nexport const logout = () => (dispatch, getState) => {\n  dispatch({type: LOGOUT_USER_START})\n  dispatch({type: CLEAN_BASKET})\n  try {\n    axios.post(\"https://reactshop.io/auth/logout\", null, tokenConfig(getState))\n    dispatch({\n      type: LOGOUT_USER_SUCCESS,\n    })\n    toast.success(\"You've been successfully logged out\");\n  } catch (err) {\n    dispatch({\n      type: LOGOUT_USER_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Sorry, try again later!\");\n  }\n}\n\nconst tokenConfig = getState => {\n  const token = getState().authorization.token;\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  if (token) {\n    config.headers[\"Authorization\"] = `Token ${token}`;\n  }\n  return config;\n}\n\n\nexport const like = ( products, index ) => async dispatch => {\n  dispatch({type: LIKE_PRODUCT_START})\n  try {\n    products = await likeApi(products, index)\n    dispatch({\n      type: LIKE_PRODUCT_SUCCESS,\n      payload: products\n    })\n  } catch (err) {\n    dispatch({\n      type: LIKE_PRODUCT_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Server error. Try again later\");\n  }\n}\n\nexport const checkout = ( purchase ) => async dispatch => {\n  dispatch({type: CHECKOUT_START})\n  try {\n    await checkoutApi(purchase)\n    dispatch({\n      type: CHECKOUT_SUCCESS\n    })\n    toast.success(\"Your purchase is successful\");\n  } catch (err) {\n    dispatch({\n      type: CHECKOUT_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Purchase error\");\n  }\n}\n\nexport const payment = ( token, amount ) => async dispatch => {\n  dispatch({type: PAYMENT_START})\n  try {\n    await paymentApi(token, amount)\n    dispatch({\n      type: PAYMENT_SUCCESS\n    })\n    toast.success(\"Your card has been charged\");\n  } catch (err) {\n    dispatch({\n      type: PAYMENT_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Payment error\");\n  }\n}\n\n\nexport const changeCredentials = ( id, username, email, password, token ) => async dispatch => {\n  dispatch({type: CHANGE_CREDENTIALS_START})\n  try {\n    const user = await changeCredentialsApi(id, username, email, password, token)\n    dispatch({\n      type: CHANGE_CREDENTIALS_SUCCESS,\n      payload: user.data\n    })\n    toast.success(\"You've successfully changed your credentials\");\n  } catch (err) {\n    dispatch({\n      type: CHANGE_CREDENTIALS_FAILURE,\n      payload: err,\n      error: true\n    })\n    toast.error(\"Credentials error\");\n  }\n}\n","export const FETCH_PRODUCTS_START = 'FETCH_PRODUCTS_START'\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS'\nexport const FETCH_PRODUCTS_FAILURE = 'FETCH_PRODUCTS_FAILURE'\n\nexport const FETCH_PRODUCT_BY_ID_START = 'FETCH_PRODUCT_BY_ID_START'\nexport const FETCH_PRODUCT_BY_ID_SUCCESS = 'FETCH_PRODUCT_BY_ID_SUCCESS'\nexport const FETCH_PRODUCT_BY_ID_FAILURE = 'FETCH_PRODUCT_BY_ID_FAILURE'\n\nexport const FETCH_PRODUCT_BY_SLUG_START = 'FETCH_PRODUCT_BY_SLUG_START'\nexport const FETCH_PRODUCT_BY_SLUG_SUCCESS = 'FETCH_PRODUCT_BY_SLUG_SUCCESS'\nexport const FETCH_PRODUCT_BY_SLUG_FAILURE = 'FETCH_PRODUCT_BY_SLUG_FAILURE'\n\nexport const FETCH_PRODUCTS_BY_USER_START = 'FETCH_PRODUCTS_BY_USER_START'\nexport const FETCH_PRODUCTS_BY_USER_SUCCESS = 'FETCH_PRODUCTS_BY_USER_SUCCESS'\nexport const FETCH_PRODUCTS_BY_USER_FAILURE = 'FETCH_PRODUCTS_BY_USER_FAILURE'\n\nexport const FETCH_CATEGORIES_START = 'FETCH_CATEGORIES_START'\nexport const FETCH_CATEGORIES_SUCCESS = 'FETCH_CATEGORIES_SUCCESS'\nexport const FETCH_CATEGORIES_FAILURE = 'FETCH_CATEGORIES_FAILURE'\n\nexport const FETCH_USER_BY_ID_START = 'FETCH_USER_BY_ID_START'\nexport const FETCH_USER_BY_ID_SUCCESS = 'FETCH_USER_BY_ID_SUCCESS'\nexport const FETCH_USER_BY_ID_FAILURE = 'FETCH_USER_BY_ID_FAILURE'\n\nexport const FETCH_CABINET_START = 'FETCH_CABINET_START'\nexport const FETCH_CABINET_SUCCESS = 'FETCH_CABINET_SUCCESS'\nexport const FETCH_CABINET_FAILURE = 'FETCH_CABINET_FAILURE'\n\nexport const DELETE_USER_START = 'FETCH_USER_START'\nexport const DELETE_USER_SUCCESS = 'FETCH_USER_SUCCESS'\nexport const DELETE_USER_FAILURE = 'FETCH_USER_FAILURE'\n\nexport const LOGIN_USER_START = 'LOGIN_USER_START'\nexport const LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS'\nexport const LOGIN_USER_FAILURE = 'LOGIN_USER_FAILURE'\n\nexport const LOGOUT_USER_START = 'LOGOUT_USER_START'\nexport const LOGOUT_USER_SUCCESS = 'LOGOUT_USER_SUCCESS'\nexport const LOGOUT_USER_FAILURE = 'LOGOUT_USER_FAILURE'\n\nexport const REGISTER_USER_START = 'REGISTER_USER_START'\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS'\nexport const REGISTER_USER_FAILURE = 'REGISTER_USER_FAILURE'\n\nexport const LIKE_PRODUCT_START = 'LIKE_PRODUCT_START'\nexport const LIKE_PRODUCT_SUCCESS = 'LIKE_PRODUCT_SUCCESS'\nexport const LIKE_PRODUCT_FAILURE = 'LIKE_PRODUCT_FAILURE'\n\nexport const CHECKOUT_START = 'CHECKOUT_START'\nexport const CHECKOUT_SUCCESS = 'CHECKOUT_SUCCESS'\nexport const CHECKOUT_FAILURE = 'CHECKOUT_FAILURE'\n\nexport const PAYMENT_START = 'PAYMENT_START'\nexport const PAYMENT_SUCCESS = 'PAYMENT_SUCCESS'\nexport const PAYMENT_FAILURE = 'PAYMENT_FAILURE'\n\nexport const CHANGE_CREDENTIALS_START = 'CHANGE_CREDENTIALS_START'\nexport const CHANGE_CREDENTIALS_SUCCESS = 'CHANGE_CREDENTIALS_SUCCESS'\nexport const CHANGE_CREDENTIALS_FAILURE = 'CHANGE_CREDENTIALS_FAILURE'\n\nexport const ADD_PRODUCT_TO_BASKET = 'ADD_PRODUCT_TO_BASKET'\nexport const DELETE_PRODUCT = 'DELETE_PRODUCT'\nexport const LIKE_PRODUCT = 'LIKE_PRODUCT'\nexport const SEARCH_PRODUCT = 'SEARCH_PRODUCT'\nexport const CLEAN_BASKET = 'CLEAN_BASKET'\nexport const GET_ERRORS = 'GET_ERRORS';\nexport const CREATE_MESSAGE = 'CREATE_MESSAGE';\nexport const USER_LOADING = 'USER_LOADING';\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const CLEAR_USERS = 'CLEAR_USERS';\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport red from '@material-ui/core/colors/red';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { login } from \"../../actions\";\r\n\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    margin: 'auto',\r\n    width: 200,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    color: '#B1B7BD',\r\n  },\r\n  button2: {\r\n    padding: 0, \r\n    border: 'none', \r\n    background: 'none'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    margin: 'auto',\r\n    width: 300,\r\n  },\r\n  dense: {\r\n    marginTop: 16,\r\n  },\r\n  iconHover: {\r\n    margin: theme.spacing.unit * 2,\r\n    '&:hover': {\r\n      color: red[800],\r\n    },\r\n  },\r\n  textField: {\r\n      marginLeft: theme.spacing.unit,\r\n      marginRight: theme.spacing.unit,\r\n  },\r\n});\r\n\r\n\r\nclass LoginDialog extends React.Component {\r\n  state = {\r\n    open: false,\r\n    fullWidth: false,\r\n    maxWidth: 'sm',\r\n    email: \"\",\r\n    password: \"\",\r\n    showPassword: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    login: PropTypes.func.isRequired,\r\n    authenticated: PropTypes.bool\r\n  };\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n  \r\n  handleUsernameChange = e => {\r\n     this.setState({username: e.target.value});\r\n  }\r\n\r\n  handlePasswordChange = e => {\r\n     this.setState({password: e.target.value});\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    this.props.login(this.state.username, this.state.password)\r\n    this.handleClose()\r\n  };\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState(state => ({ showPassword: !state.showPassword }));\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <Button aria-label=\"Login\" color=\"primary\" onClick={this.handleClickOpen} className={classes.button}>\r\n          <h6>Login</h6>\r\n        </Button>\r\n        \r\n        <Dialog\r\n          fullWidth={this.state.fullWidth}\r\n          maxWidth={this.state.maxWidth}\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"dialog\">\r\n          <DialogTitle id=\"dialog\">Login</DialogTitle>\r\n            <div className=\"container\">\r\n              <ValidatorForm className={classes.container} \r\n                    ref=\"form\"\r\n                    onSubmit={this.onSubmit}\r\n                    autoComplete=\"off\">\r\n                  \r\n                  <TextValidator\r\n                    id=\"username\"\r\n                    label=\"Username\"\r\n                    className={classes.textField}\r\n                    placeholder=\"Preferred username\"\r\n                    margin=\"normal\"\r\n                    value={this.state.username || ''}\r\n                    onChange={this.handleUsernameChange}\r\n                    variant=\"outlined\"\r\n                    validators={['required']}\r\n                    errorMessages={['this field is required']}\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                  />\r\n                  \r\n                  <TextValidator\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    className={classes.textField}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"password\"\r\n                    validators={['required']}\r\n                    errorMessages={['this field is required']}\r\n                    value={this.state.password || '' }\r\n                    onChange={this.handlePasswordChange}\r\n                    autoComplete=\"current-password\"\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                  />\r\n            <div className=\"container text-center\">\r\n            <button className={classes.button2}>\r\n              <DoneIcon \r\n                className={classes.iconHover} \r\n                aria-label=\"Done\"\r\n              />\r\n            </button>\r\n            <CloseIcon \r\n              className={classes.iconHover} \r\n              onClick={this.handleClose} \r\n              aria-label=\"Close\"\r\n            />\r\n            </div>\r\n          </ValidatorForm>\r\n          </div>\r\n        </Dialog>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nLoginDialog.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  authenticated: state.authorization.authenticated\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  login\r\n}\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(LoginDialog)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { register } from \"../../actions\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport Button from '@material-ui/core/Button';\r\nimport red from '@material-ui/core/colors/red';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    margin: 'auto',\r\n    width: 200,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    color: '#B1B7BD',\r\n  },\r\n  button2: {\r\n    padding: 0, \r\n    border: 'none', \r\n    background: 'none'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    margin: 'auto',\r\n    width: 300,\r\n  },\r\n  dense: {\r\n    marginTop: 16,\r\n  },\r\n  iconHover: {\r\n    margin: theme.spacing.unit * 2,\r\n    '&:hover': {\r\n      color: red[800],\r\n    },\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nclass RegisterDialog extends React.Component {\r\n  state = {\r\n    open: false,\r\n    fullWidth: false,\r\n    maxWidth: 'sm',\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n    showPassword: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    register: PropTypes.func.isRequired,\r\n    isAuthenticated: PropTypes.bool\r\n  };\r\n\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n\r\n  handleUsernameChange = e => {\r\n     this.setState({username: e.target.value});\r\n  }\r\n\r\n  handleEmailChange = e => {\r\n     this.setState({email: e.target.value});\r\n  }\r\n\r\n  handlePasswordChange = e => {\r\n     this.setState({password: e.target.value});\r\n  }\r\n\r\n  handleConfirmationChange = e => {\r\n     this.setState({repeatPassword: e.target.value});\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    this.props.register(this.state.username, this.state.email, this.state.password);\r\n    this.handleClose()\r\n  };\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState(state => ({ showPassword: !state.showPassword }));\r\n  };\r\n\r\n  componentDidMount() {\r\n      ValidatorForm.addValidationRule('isPasswordMatch', (value) => {\r\n          if (value !== this.state.password) {\r\n              return false;\r\n          }\r\n          return true;\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    if (this.props.isAuthenticated) {\r\n      return <Redirect to='/' />;\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Button aria-label=\"Register\" color=\"primary\" onClick={this.handleClickOpen} className={classes.button}>\r\n          <h6>Register</h6>\r\n        </Button>\r\n        <Dialog\r\n          fullWidth={this.state.fullWidth}\r\n          maxWidth={this.state.maxWidth}\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"dialog\">\r\n          <DialogTitle id=\"dialog\">Register</DialogTitle>\r\n            <div className=\"container\">\r\n              <ValidatorForm className={classes.container} \r\n                    ref=\"form\"\r\n                    onSubmit={this.onSubmit}\r\n                    autoComplete=\"off\">\r\n                    <TextValidator\r\n                      id=\"username\"\r\n                      label=\"Username\"\r\n                      className={classes.textField}\r\n                      placeholder=\"Preferred username\"\r\n                      margin=\"normal\"\r\n                      value={this.state.username}\r\n                      onChange={this.handleUsernameChange}\r\n                      variant=\"outlined\"\r\n                      validators={['required']}\r\n                      errorMessages={['this field is required']}\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                    />\r\n                    <TextValidator\r\n                      id=\"email\"\r\n                      label=\"Email\"\r\n                      className={classes.textField}\r\n                      margin=\"normal\"\r\n                      value={this.state.email}\r\n                      onChange={this.handleEmailChange}\r\n                      variant=\"outlined\"\r\n                      validators={['required', 'isEmail']}\r\n                      errorMessages={['this field is required', 'email is not valid']}\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                    />\r\n                    <TextValidator\r\n                      id=\"password\"\r\n                      label=\"Password\"\r\n                      className={classes.textField}\r\n                      margin=\"normal\"\r\n                      variant=\"outlined\"\r\n                      type=\"password\"\r\n                      validators={['required']}\r\n                      errorMessages={['this field is required']}\r\n                      value={this.state.password }\r\n                      onChange={this.handlePasswordChange}\r\n                      autoComplete=\"current-password\"\r\n                      helperText=\"Your password might include anything\"\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                    />\r\n                    <TextValidator\r\n                      id=\"confirmation\"\r\n                      label=\"Confirmation\"\r\n                      className={classes.textField}\r\n                      placeholder=\"Confirm your password\"\r\n                      margin=\"normal\"\r\n                      variant=\"outlined\"\r\n                      value={this.state.repeatPassword}\r\n                      onChange={this.handleConfirmationChange}\r\n                      type=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      validators={['isPasswordMatch', 'required']}\r\n                      errorMessages={['password mismatch', 'this field is required']}\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                    />\r\n              <div className=\"containet text-center\">\r\n              <button className={classes.button2}>\r\n                  <DoneIcon \r\n                    className={classes.iconHover} \r\n                    aria-label=\"Done\"\r\n                  />\r\n              </button>\r\n              <CloseIcon \r\n                className={classes.iconHover} \r\n                onClick={this.handleClose} \r\n                aria-label=\"Close\"\r\n              />\r\n              </div>\r\n          </ValidatorForm>\r\n          </div>\r\n        </Dialog>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nRegisterDialog.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.authorization.isAuthenticated\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  register\r\n}\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(RegisterDialog)\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport red from '@material-ui/core/colors/red';\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { changeCredentials } from \"../../actions\";\r\nimport {  getActiveUser } from '../../selectors';\r\n\r\n\r\nconst styles = theme => ({\r\n  form: {\r\n    isplay: 'flex',\r\n    flexDirection: 'column',\r\n    margin: 'auto',\r\n    width: 200,\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    color: '#B1B7BD',\r\n  },\r\n  button2: {\r\n    padding: 0, \r\n    border: 'none', \r\n    background: 'none'\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n    margin: 'auto',\r\n    width: 300,\r\n  },\r\n  dense: {\r\n    marginTop: 16,\r\n  },\r\n  iconHover: {\r\n    margin: theme.spacing.unit * 2,\r\n    '&:hover': {\r\n      color: red[800],\r\n    },\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n});\r\n\r\n\r\nclass Profile extends React.Component {\r\n  state = {\r\n    open: false,\r\n    maxWidth: 'sm',\r\n    id: this.props.user.id,\r\n    username: this.props.user.username,\r\n    email: this.props.user.email,\r\n    password: \"\",\r\n    showPassword: false,\r\n  };\r\n\r\n  static propTypes = {\r\n  \tchangeCredentials: PropTypes.func.isRequired,\r\n    authenticated: PropTypes.bool\r\n  };\r\n  \r\n  onLogout = () => {\r\n    this.props.logout()\r\n  };\r\n\r\n  handleClickOpen = () => {\r\n    this.setState({ open: true });\r\n  };\r\n  \r\n  handleUsernameChange = e => {\r\n     this.setState({username: e.target.value});\r\n  }\r\n\r\n  handlePasswordChange = e => {\r\n     this.setState({password: e.target.value});\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    this.props.changeCredentials(this.state.id, this.state.username, this.state.email, this.state.password, this.props.user.token)\r\n    this.handleClose()\r\n  };\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState(state => ({ showPassword: !state.showPassword }));\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    return (\r\n      <React.Fragment>\r\n        <Button aria-label=\"Profile\" color=\"primary\" onClick={this.handleClickOpen} className={classes.button}>\r\n          <h6>{this.props.user.username}</h6>\r\n        </Button>\r\n        \r\n        <Dialog\r\n          maxWidth={this.state.maxWidth}\r\n          open={this.state.open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"dialog\">\r\n          <DialogTitle id=\"dialog\">Profile</DialogTitle>\r\n            <div className=\"container\">            \r\n              <ValidatorForm className={classes.container} \r\n                    ref=\"form\"\r\n                    onSubmit={this.onSubmit}\r\n                    autoComplete=\"off\">\r\n                  <TextValidator\r\n                    id=\"username\"\r\n                    label=\"Username\"\r\n                    className={classes.textField}\r\n                    placeholder=\"Preferred username\"\r\n                    margin=\"normal\"\r\n                    value={this.state.username || ''}\r\n                    onChange={this.handleUsernameChange}\r\n                    variant=\"outlined\"\r\n                    validators={['required']}\r\n                    errorMessages={['this field is required']}\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                  />\r\n                  <TextValidator\r\n                    id=\"email\"\r\n                    label=\"Email\"\r\n                    className={classes.textField}\r\n                    margin=\"normal\"\r\n                    value={this.state.email || ''}\r\n                    onChange={this.handleEmailChange}\r\n                    variant=\"outlined\"\r\n                    validators={['required', 'isEmail']}\r\n                    errorMessages={['this field is required', 'email is not valid']}\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                  />\r\n                  <TextValidator\r\n                    id=\"password\"\r\n                    label=\"Password\"\r\n                    className={classes.textField}\r\n                    margin=\"normal\"\r\n                    variant=\"outlined\"\r\n                    type=\"password\"\r\n                    validators={['required']}\r\n                    errorMessages={['this field is required']}\r\n                    value={this.state.password || ''}\r\n                    onChange={this.handlePasswordChange}\r\n                    autoComplete=\"current-password\"\r\n                    helperText=\"Your password might include anything\"\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                  />\r\n            <div className=\"containet text-center\">\r\n              <button className={classes.button2} >\r\n                <DoneIcon \r\n                  className={classes.iconHover} \r\n                  aria-label=\"Done\"\r\n                />\r\n              </button>\r\n\r\n              <CloseIcon \r\n                className={classes.iconHover} \r\n                onClick={this.handleClose} \r\n                aria-label=\"Close\"\r\n              />\r\n            </div>\r\n          </ValidatorForm>\r\n          </div>\r\n        </Dialog>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  authenticated: state.authorization.authenticated,\r\n  user: getActiveUser(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  changeCredentials\r\n}\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(Profile)\r\n","import React from 'react'\r\nimport StripeCheckout from 'react-stripe-checkout';\r\nimport { checkout, payment } from \"../../actions\";\r\nimport {connect} from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from 'prop-types';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nimport { \r\n  getActiveUser,\r\n  getBasketProductsWithCount,\r\n  getTotalBasketPrice\r\n} from '../../selectors'\r\n\r\nconst stripeKey = `${process.env.REACT_APP_stripeKey}`\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  iconHover: {\r\n    margin: theme.spacing.unit * 2,\r\n    '&:hover': {\r\n      color: red[800],\r\n    },\r\n  },\r\n});\r\n\r\nclass Checkout extends React.Component {\r\n\r\n  onToken = (token, addresses) => {\r\n      const { user } = this.props;\r\n      const { products } = this.props;\r\n      products.map((product) => user.products.push({\"id\": product.id}))\r\n      this.props.handleClose()\r\n      this.props.payment( token.id, this.props.totalPrice)\r\n      this.props.checkout(user);\r\n    };\r\n\r\n  render() {\r\n\r\n\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <StripeCheckout\r\n        billingAddress\r\n        description=\"Payment\"\r\n        locale=\"auto\"\r\n        name=\"Praktikum.com\"\r\n        stripeKey={stripeKey}\r\n        token={this.onToken}\r\n        zipCode\r\n        className={classes.iconHover} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nCheckout.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  checkout,\r\n  payment\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: getActiveUser(state),\r\n    products: getBasketProductsWithCount(state),\r\n    totalPrice: getTotalBasketPrice(state)\r\n  }\r\n}\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(Checkout)","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport * as R from 'ramda';\r\nimport { FaWindowClose } from 'react-icons/fa';\r\nimport { Table } from 'react-bootstrap';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { compose } from 'redux';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport red from '@material-ui/core/colors/red';\r\nimport Button from '@material-ui/core/Button';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Checkout from '../checkout';\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  getTotalBasketCount,\r\n  getTotalBasketPrice,\r\n  getActiveUser,\r\n  getBasketProductsWithCount\r\n} from '../../selectors'\r\n\r\nimport {\r\n  deleteProduct,\r\n  cleanBasket \r\n} from '../../actions'\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'flex-end',\r\n  },\r\n  iconHover: {\r\n    margin: theme.spacing.unit * 2,\r\n    '&:hover': {\r\n      color: red[500],\r\n    },\r\n  },\r\n});\r\n\r\nclass Basket extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleClose = this.handleClose.bind(this)\r\n  }\r\n  state = {\r\n    open: false,\r\n    fullWidth: true,\r\n    maxWidth: 'sm'\r\n  };\r\n  \r\n  handleClickOpen = () => {\r\n    if (R.isEmpty(this.props.products)) { \r\n      toast.info(\"Your shopping cart is empty!\");\r\n    } else {\r\n      this.setState({ open: true });\r\n    }\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  handleDelete = () => {\r\n    this.props.cleanBasket();\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { user } = this.props;\r\n    const isBasketEmpty = R.isEmpty(this.props.products)\r\n    const basketColor = (user.authenticated === false) ? \"disabled\" : \"inherit\"\r\n    \r\n    return ( \r\n        <React.Fragment>\r\n          <Button aria-label=\"Cart\" color=\"primary\" className='text-grey' disabled={!user.authenticated} onClick={this.handleClickOpen}>\r\n            <Badge badgeContent={this.props.totalBasketCount} color=\"secondary\" variant=\"dot\">\r\n              <ShoppingCartIcon color={basketColor} style={{fontSize: '20px', marginBottom: '30%'}} />\r\n            </Badge>\r\n          </Button>\r\n          \r\n          <Dialog\r\n            fullWidth={this.state.fullWidth}\r\n            maxWidth={this.state.maxWidth}\r\n            open={this.state.open}\r\n            onClose={this.handleClose}\r\n            aria-labelledby=\"dialog\">\r\n\r\n            <DialogTitle id=\"dialog\">Shopping cart</DialogTitle>\r\n            <DialogContent>\r\n                <div className='view-container'>\r\n                  <div className='container my-4'>\r\n                    <div className='row'>\r\n                      <div className='col-md-12'>\r\n                        <div className='container my-4 text-center'>\r\n                          {isBasketEmpty && \r\n                            <div className=\"container\">\r\n                              <h1>Your shopping cart is empty</h1>\r\n                            </div>\r\n                          }\r\n         \r\n                          { R.not(isBasketEmpty) &&\r\n                            <div>\r\n                              <div className='container py-4'>\r\n                                <Table striped bordered hover size=\"sm\" variant=\"light\">\r\n                                  <thead>\r\n                                    <tr>\r\n                                      <th>#</th>\r\n                                      <th>Item</th>\r\n                                      <th>Price</th>\r\n                                      <th>Amount</th>\r\n                                      <th>Delete</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  {this.props.products.map((product, index) => (\r\n                                  <tbody key={index}>\r\n                                    <tr>\r\n                                      <td>{index + 1}</td>\r\n                                      <td>{product.title}</td>\r\n                                      <td>${product.price}</td>\r\n                                      <td>{product.count}</td>\r\n                                      <td>\r\n                                      <FaWindowClose onClick={() => this.props.deleteProduct(product.id)} />\r\n                                      </td>\r\n                                    </tr>\r\n                                  </tbody>  \r\n                                  ))}\r\n                                </Table>\r\n                              </div>\r\n                              <div className='container text-right'>\r\n                                  <h4><b>Total: </b>\r\n                                  ${this.props.totalPrice}\r\n                                  </h4>\r\n                              </div>\r\n                            </div>\r\n                          }\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            {!isBasketEmpty &&\r\n              <div>\r\n              <Checkout handleClose = {this.handleClose} /> \r\n              <DeleteIcon \r\n                className={classes.iconHover} \r\n                onClick={this.handleDelete} \r\n                aria-label=\"Delete\"\r\n              />\r\n              </div>\r\n            } \r\n              <CloseIcon \r\n                className={classes.iconHover} \r\n                onClick={this.handleClose} \r\n                aria-label=\"Close\"\r\n              />\r\n            </DialogActions>\r\n          </Dialog>\r\n        </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nBasket.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  products: getBasketProductsWithCount(state),\r\n  totalPrice: getTotalBasketPrice(state),\r\n  user: getActiveUser(state),\r\n  totalBasketCount: getTotalBasketCount(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteProduct,\r\n  cleanBasket\r\n}\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(Basket)","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { Nav, Navbar } from 'react-bootstrap';\r\nimport { getTotalBasketCount } from '../../selectors';\r\nimport { Link } from 'react-router-dom';\r\nimport LoginDialog from '../../components/dialog_login';\r\nimport RegisterDialog from '../../components/dialog_register';\r\nimport Profile from '../../containers/profile';\r\nimport Basket from '../../containers/basket'\r\n\r\nimport Chip from '@material-ui/core/Chip';\r\nimport FaceIcon from '@material-ui/icons/Face';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '@material-ui/core/Button';\r\nimport { logout } from \"../../actions\";\r\nimport { compose } from 'redux'\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport red from '@material-ui/core/colors/red';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\nimport { green } from '@material-ui/core/colors';\r\n//import logo from '../../assets/reactshop_logo.png';\r\nimport {  \r\n  getActiveUser\r\n} from '../../selectors';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n  },\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n    color: '#B1B7BD',\r\n  },\r\n  chip: {\r\n    margin: theme.spacing.unit,\r\n    marginTop: 0,\r\n  },\r\n});\r\n\r\n\r\nclass Navigation extends Component {\r\n\r\n  onLogout = () => {\r\n    this.props.logout()\r\n  };\r\n  \r\n\r\n  render () {\r\n      const { classes } = this.props;\r\n\r\n      const authLinks = (\r\n        <div className=\"container-fluid\">\r\n          <Profile />\r\n          <Button aria-label=\"Logout\" \r\n                  color=\"primary\"\r\n                  className={classes.button}\r\n                  onClick={() => { this.onLogout() }} >\r\n           <h6>Logout</h6>\r\n          </Button>\r\n          <Link to='/classroom'\r\n                style={{ textDecoration: 'none', color: \"white\"}}>\r\n            <Chip\r\n              icon={<FaceIcon />}\r\n              label=\"My Classroom\"\r\n              clickable\r\n              className={classes.chip}\r\n              color=\"default\"\r\n             \r\n            />\r\n          </Link> \r\n          <Basket />\r\n        </div>\r\n      );\r\n\r\n      const guestLinks = (\r\n          <div className=\"container-fluid\">\r\n            <LoginDialog /> \r\n            <RegisterDialog /> \r\n            <Link to='/classroom'\r\n                  style={{ textDecoration: 'none', color: \"white\"}}>\r\n            <Chip\r\n                icon={<FaceIcon />}\r\n                label=\"Not authorized\"\r\n                clickable={true}\r\n                className={classes.chip}\r\n                color=\"secondary\"\r\n                style={{ backgroundColor: red[500] }}\r\n            />\r\n            </Link>\r\n            <Basket />\r\n          </div>\r\n      );\r\n\r\n      //const link = (this.props.user.authenticated === true) ? `/classroom` : `/`;\r\n\r\n      return (\r\n        <React.Fragment>\r\n          <Navbar collapseOnSelect expand=\"lg\" variant=\"dark\">\r\n            <Navbar.Brand>\r\n              <Link to='/'>\r\n                <img\r\n                  alt=\"\"\r\n                  src={'https://s3.amazonaws.com/praktik.us/static/media/reactshop_logo.4169d542.png'}\r\n                  width=\"300\"\r\n                  height=\"100\"\r\n                  className=\"d-inline-block align-top\"\r\n                />\r\n              </Link>\r\n            </Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n              <Nav className=\"ml-auto\">\r\n                {this.props.user.authenticated ? authLinks : guestLinks}\r\n              </Nav>   \r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n        </React.Fragment>\r\n      )\r\n    }\r\n}\r\n  \r\nconst mapStateToProps = state => {\r\n  return {\r\n    totalBasketCount: getTotalBasketCount(state),\r\n    user: getActiveUser(state),\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  logout\r\n}\r\n\r\nNavigation.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), connect(mapStateToProps, mapDispatchToProps))(Navigation)\r\n","import React from 'react'\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\n\r\nimport Navigation from '../../components/navbar';\r\n\r\n\r\nconst Layout = ({children}) => (\r\n\t<div className=\"container\">\r\n\t    <ToastContainer autoClose={2000} />\r\n\t\t<Navigation />\r\n\t\t{children}\r\n\t</div>\r\n)\r\n\r\nexport default Layout","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {searchProduct} from '../../actions'\r\nimport { compose } from 'redux'\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginRight: theme.spacing.unit * 2,\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing.unit * 3,\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing.unit * 9,\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing.unit,\r\n    paddingRight: theme.spacing.unit,\r\n    paddingBottom: theme.spacing.unit,\r\n    paddingLeft: theme.spacing.unit * 10,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 200,\r\n    },\r\n  },\r\n\r\n});\r\n\r\nclass Search extends Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = { value: ''}\r\n\t\tthis.handleChange = this.handleChange.bind(this)\r\n\t}\r\n\r\n\thandleChange (event) {\r\n\t\tthis.setState({ value: event.target.value })\r\n    this.props.searchProduct(event.target.value);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\r\n      <div className=\"container\">\r\n\t\t\t    <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              onChange={this.handleChange}\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n            />\r\n          </div>\r\n\t    </div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nSearch.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\n\r\nconst mapDispatchToProps = {\r\n\tsearchProduct\r\n}\r\n\r\nexport default compose(withStyles(styles), connect(null, mapDispatchToProps))(Search)\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {getCategories, getActiveCategoryId} from '../../selectors'\r\nimport {compose} from 'redux'\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Button from '@material-ui/core/Button';\r\nimport * as R from 'ramda';\r\nimport red from '@material-ui/core/colors/red';\r\n\r\nconst Categories = ({categories, activeCategoryId}) => {\r\n  \r\n  const renderCategory = (category, index) => {\r\n    const categoryActive = R.equals(category.id, Number(activeCategoryId));\r\n    const link = (categoryActive === true) ? `/` : `/categories/${category.id}`;\r\n    const SelectCategory = props => <Link to={link} {...props} /> \r\n\r\n  \treturn (\r\n      <Button aria-label=\"Category\" color=\"primary\" component={SelectCategory} key={index}>\r\n        <div className=\"container text-left text-grey\">\r\n          <h5>\r\n            <Checkbox checked={categoryActive} \r\n                style={{ color: red[500],'&$checked': { color: red[500],},}} \r\n            />\r\n            {category.title}\r\n          </h5>\r\n        </div>\r\n      </Button>\r\n\t  )\r\n  }\r\n\r\n  const renderAllCategory = () => {\r\n    const AllCategories = props => <Link to=\"/\" {...props} />\r\n  \treturn (\r\n      <Button aria-label=\"Category\" color=\"primary\" component={AllCategories}>\r\n        <div className=\"container text-left text-grey\">\r\n          <h5>\r\n            <Checkbox checked={ activeCategoryId===undefined } \r\n            style={{ color: red[500],'&$checked': { color: red[500],},}}\r\n            />\r\n            All categories\r\n          </h5>\r\n        </div>\r\n      </Button>\r\n  \t)\r\n  }\r\n\r\n  return (\r\n  \t<div className='text-left'>\r\n  \t  <div className='list-group my-4'>\r\n  \t    {renderAllCategory()}\r\n  \t    {categories.map((category, index) => renderCategory(category, index))}\r\n  \t  </div>\r\n  \t</div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n\tcategories: getCategories(state),\r\n\tactiveCategoryId: getActiveCategoryId(ownProps)\r\n})\r\n\r\n\r\nexport default compose(withRouter, connect(mapStateToProps, null))(Categories)","import React from 'react'\r\nimport Search from '../../components/search'\r\nimport Categories from '../../components/categories'\r\n\r\nconst Sidebar = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <Categories />\r\n      <Search />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Sidebar;","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport * as R from 'ramda';\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { toast } from \"react-toastify\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport ReactDisqusComments from 'react-disqus-comments';\r\nimport {\r\n  fetchProductBySlug, \r\n  addProductToBasket,\r\n  deleteProduct\r\n} from '../../actions'\r\n\r\nimport {\r\n  getProductBySlug,\r\n  getActiveUser,\r\n  getBasketProductsWithCount\r\n} from '../../selectors';\r\n\r\nimport Sidebar from '../../components/sidebar';\r\n\r\nclass Product extends Component {\r\n\r\n  handleBasket = (product) => {\r\n    if (R.find(R.propEq('id', product.id))(this.props.basket)) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  handleProducts = (product) => {\r\n    if (R.find(R.propEq('id', product.id))(this.props.user.products)!==undefined) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  handleClick = (product) => {\r\n    if (this.handleBasket(product)) {\r\n      this.props.deleteProduct(product.id)\r\n    } \r\n    else {\r\n      this.props.addProductToBasket(product.id)\r\n    }\r\n  }\r\n\r\n  handleNewComment(comment) {\r\n    toast.info(\"Your comment has been published\");\r\n  }\r\n\r\n\r\n  renderProduct () {\r\n    const { product } = this.props\r\n    const { user } = this.props;\r\n    const productBought = this.handleProducts(product);\r\n    return (\r\n      <div className=\"container my-4 text-grey\"> \r\n        <div className='form-group'>\r\n          <h1>{product.title}</h1>\r\n          <p>{product.description}</p>\r\n          <h2>${product.price}</h2>\r\n        </div>\r\n        <div className=\"container text-right\">\r\n          <FormControlLabel \r\n            disabled={!user.authenticated || productBought}\r\n            checked={productBought || this.handleBasket(product)}\r\n            control={\r\n              <Checkbox \r\n              icon={<ShoppingCart />} \r\n              checkedIcon={<CheckIcon />} \r\n              onClick={() => { this.handleClick(product) }} />\r\n            }\r\n          />\r\n        </div>\r\n\r\n        <ReactDisqusComments\r\n        shortname='praktikum-1'\r\n        identifier={String(this.props.product.id)}\r\n        title={this.props.product.title}\r\n        url='http://localhost:3000/products/'\r\n        onNewComment={this.handleNewComment}/>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const {product} = this.props\r\n    const noProduct = (product === undefined ) ? true : false\r\n    if (noProduct) {toast.info(\"Product doesn't exist!\");}\r\n\r\n    const Product = (\r\n          <div className=\"col-sm-12 col-lg-12 col-md-12 my-5\">\r\n              <div className=\"row\">\r\n                <div className=\"col-lg-4\">\r\n                  <Sidebar />\r\n                </div>\r\n                <div className=\"col-lg-8\">\r\n                  {product && this.renderProduct()}\r\n                </div>\r\n              </div>\r\n          </div>\r\n    )\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {this.props.product === undefined ? <Redirect to='/' /> : Product}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    product: getProductBySlug(state, ownProps),\r\n    user: getActiveUser(state),\r\n    basket: getBasketProductsWithCount(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  fetchProductBySlug,\r\n  addProductToBasket,\r\n  deleteProduct\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Product)\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport * as R from 'ramda';\r\nimport Sidebar from '../../components/sidebar';\r\nimport ShoppingCart from '@material-ui/icons/ShoppingCart';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Favorite from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\n\r\n\r\nimport {\r\n  fetchProducts,\r\n  addProductToBasket,\r\n  fetchCategories,\r\n  deleteProduct,\r\n  like\r\n} from '../../actions'\r\n\r\nimport { \r\n  getProducts, \r\n  getActiveUser,\r\n  getBasketProductsWithCount,\r\n} from '../../selectors'\r\n\r\nclass Products extends Component {\r\n\r\n  handleBasket = (product) => {\r\n    if (R.find(R.propEq('id', product.id))(this.props.basket)) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  handleProducts = (product) => {\r\n    if (R.find(R.propEq('id', product.id))(this.props.user.products)!==undefined) {\r\n      return true\r\n    }\r\n    else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  handleClick = (product) => {\r\n    if (this.handleBasket(product)) {\r\n      this.props.deleteProduct(product.id)\r\n    } \r\n    else {\r\n      this.props.addProductToBasket(product.id)\r\n    }\r\n  }\r\n\r\n  handleLike = (products, index, liked) => {\r\n    if (liked) { \r\n      products[Object.keys(products)[index]].likes = products[Object.keys(products)[index]].likes.filter(e => e !== this.props.user.id)\r\n    } else {\r\n      products[Object.keys(products)[index]].likes.push(this.props.user.id)\r\n    }\r\n    this.props.like(products, index);\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.props.fetchProducts()\r\n    this.props.fetchCategories()\r\n  }\r\n\r\n  renderProduct(product, index) {\r\n    const shortDescription = `${R.take(100, product.description)}...`\r\n    const { user } = this.props;\r\n    const productBought = this.handleProducts(product);\r\n    const likes = R.length(product.likes)\r\n    const liked = R.contains( user.id, product.likes)\r\n\r\n    return (\r\n        <div className=\"col-lg-12 my-4\" key={index}>\r\n          <div className=\"text-left text-grey\">\r\n            <h2 className=\"text-grey\">\r\n              <Link to={`/products/${product.slug}`} style={{ textDecoration: 'none', color: \"#B1B7BD\" }}>\r\n                {product.title}\r\n              </Link>\r\n            </h2>\r\n            <p>{shortDescription}</p>\r\n            <h4>Price: ${product.price}</h4>\r\n\r\n            <div className=\"container text-right\">\r\n              <FormControlLabel \r\n                disabled={!user.authenticated || productBought}\r\n                checked={productBought || this.handleBasket(product)}\r\n                control={\r\n                  <Checkbox \r\n                  icon={<ShoppingCart />} \r\n                  checkedIcon={<CheckIcon />} \r\n                  onClick={() => { this.handleClick(product) }} />\r\n                }\r\n              />\r\n              <FormControlLabel\r\n                disabled={!user.authenticated}\r\n                label={`${likes} likes`}\r\n                checked={liked}\r\n                control={\r\n                  <Checkbox icon={<FavoriteBorder />} checkedIcon={<Favorite />} \r\n                  onClick={() => { this.handleLike(this.props.products, index, liked) }} />\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const { products } = this.props;\r\n    const isEmpty = R.isEmpty(products)\r\n    return (\r\n      <div className='col-sm-12 col-lg-12 col-md-12 my-5'>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4\">\r\n            <Sidebar />\r\n          </div>\r\n          <div className=\"col-lg-8\">\r\n            {isEmpty && \r\n              <div className=\"text-center text-grey\">\r\n                <h2>Nothing found</h2>\r\n              </div>\r\n            }\r\n            {products.map((product, index) => this.renderProduct(product, index))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    products: getProducts(state, ownProps),\r\n    user: getActiveUser(state),\r\n    basket: getBasketProductsWithCount(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  fetchProducts, \r\n  addProductToBasket,\r\n  fetchCategories,\r\n  deleteProduct,\r\n  like\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Products)","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport * as R from 'ramda';\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nimport {\r\n  fetchProducts,\r\n} from '../../actions'\r\n\r\nimport { \r\n  getActiveUser,\r\n  getPurchases\r\n} from '../../selectors'\r\n\r\nclass Classroom extends Component {\r\n\r\n  componentDidMount () {\r\n    this.props.fetchProducts()\r\n  }\r\n\r\n  renderProduct(product, index) {\r\n    const shortDescription = `${R.take(100, product.description)}...`\r\n\r\n    return (\r\n        <div className=\"col-lg-12 my-4\" key={index}>\r\n          <div className=\"text-left text-grey\">\r\n            <h2 className=\"text-grey\">\r\n              <Link to={`/material/${product.slug}/`} style={{ textDecoration: 'none', color: \"#B1B7BD\" }}>\r\n                {product.title}\r\n              </Link>\r\n            </h2>\r\n            <p>{shortDescription}</p>\r\n            <h4>Price: ${product.price}</h4>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const {purchases} = this.props;\r\n    const isEmpty = R.isEmpty(purchases);\r\n\r\n    if (this.props.user.authenticated === false) {\r\n       this.props.history.replace('/')\r\n       toast.info(\"Please get authorized\");\r\n    }\r\n    return (\r\n      <div className='col-sm-12 col-lg-12 col-md-12 my-5'>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-8\">\r\n            {isEmpty && \r\n              <div className=\"text-center text-grey\">\r\n                <h2>Your classroom is empty. You need to buy learning material</h2>\r\n              </div>\r\n            }\r\n            {purchases.map((product, index) => this.renderProduct(product, index))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    user: getActiveUser(state),\r\n    purchases: getPurchases(state, ownProps)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  fetchProducts\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Classroom)","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport { toast } from \"react-toastify\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nimport {\r\n  fetchProductBySlug\r\n} from '../../actions'\r\n\r\nimport {\r\n  getProductBySlug,\r\n  getActiveUser\r\n} from '../../selectors';\r\n\r\nclass Material extends Component {\r\n\r\n  renderProduct () {\r\n    const { product } = this.props\r\n\r\n    return (\r\n      <div className=\"container my-4 text-grey\"> \r\n        <div className='form-group'>\r\n          <h1>{product.title}</h1>\r\n          <p>{product.description}</p>\r\n          <ReactMarkdown source={product.content} escapeHtml={false}/>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const {product} = this.props\r\n\r\n    const noMaterial = (product === undefined ) ? true : false\r\n    if (noMaterial) {toast.info(\"Material doesn't exist!\");}\r\n\r\n    if (this.props.user.authenticated === false) {\r\n       this.props.history.replace('/')\r\n       toast.info(\"Please get authorized\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-sm-12 col-lg-12 col-md-12 my-5\">\r\n           {product && this.renderProduct()}\r\n           {noMaterial && <Redirect to='/classroom' />}\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    product: getProductBySlug(state, ownProps),\r\n    user: getActiveUser(state),\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  fetchProductBySlug\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Material)\r\n","import * as R from 'ramda';\r\n\r\nimport {\r\n\tFETCH_PRODUCTS_SUCCESS,\r\n  FETCH_PRODUCT_BY_ID_SUCCESS,\r\n  LIKE_PRODUCT_SUCCESS\r\n} from '../actionTypes'\r\n\r\nconst initialState = {}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\tswitch (type){\r\n\t  case FETCH_PRODUCTS_SUCCESS:\r\n      const newValues = R.indexBy(R.prop('id'), payload)\r\n      return R.merge(state, newValues)  \r\n    case LIKE_PRODUCT_SUCCESS:\r\n      return R.merge(state, newValues)               \r\n    case FETCH_PRODUCT_BY_ID_SUCCESS:\r\n      return R.assoc(payload.id, payload, state)\r\n    default:\r\n      return state\r\n\t}\r\n}","import * as R from 'ramda';\r\n\r\nimport {\r\n\tFETCH_PRODUCTS_SUCCESS,\r\n\tSEARCH_PRODUCT\r\n} from '../actionTypes'\r\n\r\nconst initialState = {\r\n\tids: [],\r\n\tslugs: [],\r\n\tsearch: ''\r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\tswitch (type) {\r\n\t\tcase FETCH_PRODUCTS_SUCCESS:\r\n\t\t  return R.merge(state, {\r\n\t\t  \tids: R.pluck('id', payload)\r\n\t\t  })\r\n\t\tcase SEARCH_PRODUCT:\r\n\t\t  return R.merge(state, {\r\n\t\t  \tsearch: payload\r\n\t\t  })\r\n\t\tdefault: \r\n\t\t  return state\r\n\t}\r\n}","import * as R from 'ramda';\r\n\r\nimport {\r\n  FETCH_PRODUCT_BY_SLUG_SUCCESS,\r\n} from '../actionTypes'\r\n\r\nconst initialState = {\r\n  slug: null\r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n  switch (type) {\r\n    case FETCH_PRODUCT_BY_SLUG_SUCCESS:\r\n      return R.merge(state, {\r\n  \t    slug: R.prop('slug', payload)\r\n      })\r\n    default: \r\n      return state\r\n  }\r\n}\r\n","import * as R from 'ramda';\r\n\r\nimport {\r\n\tADD_PRODUCT_TO_BASKET,\r\n\tDELETE_PRODUCT, \r\n\tCLEAN_BASKET,\r\n\tCHECKOUT_SUCCESS\r\n} from '../actionTypes'\r\n\r\nconst initialState = []\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\tswitch (type) {\r\n\t\tcase ADD_PRODUCT_TO_BASKET:\r\n\t\t  return R.append(payload, state)\r\n\t\tcase DELETE_PRODUCT:\r\n\t\t  return R.without(R.of(payload), state)\r\n\t\tcase CLEAN_BASKET:\r\n\t\t  return []\r\n\t\tcase CHECKOUT_SUCCESS:\r\n\t\t  return []\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import * as R from 'ramda';\r\n\r\n\r\nimport {\r\n  FETCH_CATEGORIES_SUCCESS,\r\n} from '../actionTypes'\r\n\r\n\r\nconst initialState = {}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n  switch (type){\r\n    case FETCH_CATEGORIES_SUCCESS:\r\n        const newValues = R.indexBy(R.prop('id'), payload)\r\n        return R.merge(state, newValues)          \r\n      default:\r\n        return state\r\n  }\r\n}","import * as R from 'ramda';\r\n\r\nimport {\r\n\tLOGIN_USER_SUCCESS,\r\n\tLOGOUT_USER_SUCCESS, \r\n\tREGISTER_USER_SUCCESS,\r\n\tCHANGE_CREDENTIALS_SUCCESS\r\n} from '../actionTypes'\r\n\r\nconst initialState = {\r\n\tid: '',\r\n\tusername: '',\r\n\temail: '',\r\n\ttoken: '',\r\n\tauthenticated: false,\r\n\tproducts: ''\r\n}\r\n\r\nexport default (state = initialState, {type, payload}) => {\r\n\tswitch (type) {\r\n\t\tcase LOGIN_USER_SUCCESS:\r\n\t\t  return R.merge(state, {\r\n\t  \t    id: R.prop('id', payload),\r\n\t  \t    username: R.prop('username', payload),\r\n\t  \t    email: R.prop('email', payload),\r\n\t  \t    products: R.prop('products', payload),\r\n\t  \t    token: R.prop('token', payload),\r\n\t  \t    authenticated: R.prop('authenticated', payload)\r\n\t\t  })\r\n\t\tcase REGISTER_USER_SUCCESS:\r\n\t  \t  return R.merge(state, {\r\n\t    \t    id: R.prop('id', payload),\r\n\t    \t    username: R.prop('username', payload),\r\n\t    \t    email: R.prop('email', payload),\r\n\t    \t    products: R.prop('products', payload),\r\n\t    \t    token: R.prop('token', payload),\r\n\t    \t    authenticated: R.prop('authenticated', payload)\r\n\t  \t  })\r\n\t  \tcase CHANGE_CREDENTIALS_SUCCESS:\r\n\t  \t  return R.merge(state, {\r\n\t    \t    id: R.prop('id', payload),\r\n\t    \t    username: R.prop('username', payload),\r\n\t    \t    email: R.prop('email', payload),\r\n\t    \t    products: R.prop('products', payload),\r\n\t    \t    token: R.prop('token', payload),\r\n\t    \t    authenticated: R.prop('authenticated', payload)\r\n\t  \t  })\r\n\t\tcase LOGOUT_USER_SUCCESS:\r\n\t\t  return initialState\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n","import {combineReducers} from 'redux'\r\nimport {routerReducer} from 'react-router-redux'\r\n\r\nimport products from './products'\r\nimport productsPage from './productsPage'\r\nimport productPage from './productPage'\r\nimport basket from './basket'\r\nimport categories from './categories'\r\nimport authorization from './authorization'\r\n\r\nexport default combineReducers({\r\n\trouting: routerReducer,\r\n\tproducts,\r\n\tproductsPage,\r\n\tproductPage,\r\n\tbasket,\r\n\tcategories,\r\n\tauthorization\r\n})","import React, { Component } from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\nimport { Redirect } from 'react-router-dom';\nimport {createStore, applyMiddleware} from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport {composeWithDevTools} from 'redux-devtools-extension'\nimport thunk from 'redux-thunk'\nimport {Provider} from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { toast } from \"react-toastify\";\n\nimport Layout from './containers/layout'\nimport Product from './containers/product'\nimport Products from './containers/products'\nimport Classroom from './containers/classroom'\nimport Material from './containers/material'\nimport reducers from './reducers'\n\nimport './App.css';\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n}\n\nconst persistedReducer = persistReducer(persistConfig, reducers)\nconst store = createStore(persistedReducer, composeWithDevTools(\n  applyMiddleware(thunk)))\nconst persistor = persistStore(store)\n//persistor.purge()\n//const store = createStore(reducers, composeWithDevTools(\n  //applyMiddleware(thunk)\n //))\n\n\n\nclass App extends Component {\n \n  render() {\n    return (\n        <Provider store={store}>\n          <PersistGate loading={null} persistor={persistor}>\n            <Router>\n                  <Layout>\n                    <Switch>\n                      <Route exact path='/' component={Products} />\n                      <Route exact path='/categories/:id' component={Products} />\n                      <Route exact path='/products/:slug' component={Product} />\n                      <Route exact path='/classroom' component={Classroom} />\n                      <Route exact path='/material/:slug' component={Material} />\n                      <Route path=\"*\" render={() => {toast.info(\"Path doesn't exist!\"); return( <Redirect to='/' /> )} } /> \n        \t\t        </Switch>\n  \t\t            </Layout>\n            </Router>\n          </PersistGate>\n        </Provider>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}